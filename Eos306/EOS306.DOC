ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
                     ฺฤฤฤฤฤฤฤฤฤฟ ฺฤฤฤฤฤฤฤฤฤฟ ฺฤฤฤฤฤฤฤฤฤฟ
                     ภฟ  ฺฤฤฤฟ ณ ณ  ฺฤฤฤฟ  ณ ณ  ฺฤฤฤฤฟ ณ
                      ณ  ณ   ภฤู ณ  ณ   ณ  ณ ณ  ณ    ภฤู
                      ณ  ภฤฤฟ    ณ  ณ   ณ  ณ ณ  ภฤฤฤฤฤฤฟ
                      ณ  ฺฤฤู    ณ  ณ   ณ  ณ ภฤฤฤฤฤฤฟ  ณ
                      ณ  ณ   ฺฤฟ ณ  ณ   ณ  ณ ฺฤฟ    ณ  ณ
                     ฺู  ภฤฤฤู ณ ณ  ภฤฤฤู  ณ ณ ภฤฤฤฤู  ณ
                     ภฤฤฤฤฤฤฤฤฤู ภฤฤฤฤฤฤฤฤฤู ภฤฤฤฤฤฤฤฤฤู
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

                 E.O.S Eclipse Operating System  Version 3.06

                        Copyright (c) Eclipse 1995-99

ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Description rapide                                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

        * L'E.O.S est un Dos Extender compatible DOS4GW et PMODEW, conu
          pour fonctionner sous DOS ou Windows(tm) 95.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Nouveauts de la version 3.00แ                                           บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

        * Un seul fichier E.O.S (plus de fichier kernel).
        * Compatibilit totale avec Windows(tm) 95, Windows(tm) 3.1 et Dos.
        * Nouvelles librairies pour les utilisateurs de WATCOM C++.
        * Possibilit d'utiliser l'E.O.S  la place de DOS4GW.
        * Support du VESA 2.0 (Linear frame buffer).
        * Support du VESA 1.0 (Automatic Bank Switching) en lecture et criture.
        * Nouvelle interruption pour remapper la mmoire.
        * Nouveau debugger en externe pour tracer des programmes au format LE.
        * Serveur DPMI Version 0.90.
        * Nouvelle gestion de la mmoire par handle.
        * Possibilit de linker des donnes sans les compresser.
        * Possibilit d'utiliser l'E.O.S en externe sous WATCOM (WSTUB).
        * Nouvelle fonction de synchronisation beaucoup plus stable sous Windows(tm) 95.
        * Nouveau player de module :
           - Mixage automatique sur 8 ou 16bits en fonction de la carte.
           - Meilleure restitution sonore sur les cartes Sound Blaster.
           - Support de la Windows Sound System.
           - Gestion des samples indpendamment de la musique.
           - Dtection manuelle ou automatique des cartes sonores.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Nouveauts de la version 3.00                                            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

        * Ajout de EOS.LNK pour simplifier le fichier makefile sous WATCOM.
        * Set_Volume : Modification de la doc pour le passage de paramtres.
        * Init_EOS : Passage de _psp en paramtre.
        * EOS.H : Support du passage de paramtres par la pile ou par registres.
        * Suppression du cryptage des excutables pour les utilisateurs de
          Soft-Ice(tm) sous Windows(tm) 95.
        * Bugs fixed dans E.O.S, Debug, Joystick et Vesa.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Nouveauts de la version 3.01                                            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

        * Nouveau utilitaire UNBIND.EXE pour extraire Dos4gw.
        * Nouvelle librairie RS232 pour communiquer  115200 bauds.
        * Nouvelle librairie SNAP pour le Vesa 2.0.
        * Nouvelle librairie GIF de Thomas Bernard.
        * Nouvelle macro Border de Thomas Bernard.
        * EOS.H : Passage des constantes en majuscules.
        * EOS.H : Passage des fonctions et variables en minuscules.
        * EOS.H : Dclaration de la librairie Joystick.
        * Gestion de la carry dans la macro Get_Param.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Nouveauts de la version 3.02                                            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

        * Nouveau utilitaire EOSCFG.EXE pour configurer les fichiers EXE.
        * Nouvelle librairie CDROM pour la gestion des lecteurs de CD Audio.
        * Nouvelle dclaration : nb_vbl.
        * Ajout de la doc en Anglais.
        * Bug fixed : Librairie GIF de Thomas Bernard.
        * Bug fixed : Gestion mmoire dans Diamond player.
        * Bug fixed : Dtection des cartes VGA dans E.O.S.
        * EOS.H : Passage de Serial_Stand_By en volatile.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Nouveauts de la version 3.03                                            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

        * Support de l'interuption 24h sous Watcom.
        * Support de l'option case sensitive sous Watcom.
        * EOS.INC : Nouvelles dclarations.
        * EOS.H   : Nouvelles dclarations.
        * EOS.LNK : Nouvelles dclarations.
        * Bug fixed : E.O.S : Allocation mmoire.
        * Bug fixed : E.O.S : Exit_Error.
        * Bug fixed : FLI32 : Close file.
        * Bug fixed : RS232 : Serial_Write.
        * Bug fixed : WSTUB : File not found.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Nouveauts de la version 3.04                                            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

        * Nouveaut : E.O.S : Utilisation de moins de mmoire conventionnelle.
        * Nouveaut : LLINK32 : Possibilit de linker jusqu'a 256 fichiers.
        * Nouveaut : Watcom C++ : Suppression du fichier WATCOM.OBJ.
        * Nouveaut : Watcom C++ : FONT function par Thomas Mangin.
        * Bug fixed : Watcom C++ : EOS.H (change_synchro_int_08, set_bank, etc).
        * Bug fixed : Watcom C++ : Fonction STUB.
        * Bug fixed : Watcom C++ : Argument 0 de main().


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Nouveauts de la version 3.05                                            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

        * Nouveaut : E.O.S : Support de windows NT (Psp_Sel & Environment_Sel).
        * Nouveaut : E.O.S : Nouvelle fonction Get_Nb_Vbl.
        * Nouveaut : E.O.S : Nouvelle fonction Get_Exception.
        * Nouveaut : E.O.S : Nouvelle fonction Set_Exception.
        * Nouveaut : E.O.S : Nouvelle librairie USM par Freddy Vtl (Player de XM).
        * Nouveaut : E.O.S : Nouveau utilitaire VESAINFO par Thomas Bernard.
        * Nouveaut : E.O.S : Nouvelles rgles pour la version commerciale (voir chapitre Distribution).
        * Nouveaut : DIAMOND : Interface pour la slection manuelle de la carte son.
        * Bug fixed : E.O.S : Physical Address Mapping (sauvegarde de edx).
        * Bug fixed : E.O.S : Sauvegarde des registres dans Load_Module (merci  taco ekkel).
        * Bug fixed : LLINK32 : Possibilit de linker jusqu'a 256 fichiers.
        * Bug fixed : DEBUG : FISTP qword.
        * Bug fixed : DEBUG : FDIVR dword & qword.
        * Bug fixed : EOS.INC : Nouvelles dclarations.
        * Bug fixed : EOS.H   : Nouvelles dclarations.
        * Bug fixed : DIAMOND : Dtection de la Gravis Ultrasound.
        * Bug fixed : DIAMOND : Vibrato.
        * Bug fixed : CDROM : Librairie CD-Rom sous Windows.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Nouveauts de la version 3.06                                            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

        * Nouveaut : Support de IPX.
        * Nouveaut : DEBUG : Support de Windows 98.
        * Nouveaut : DEBUG : Nouvelle fonction Add_Log.
        * Nouveaut : DEBUG : Support des expressions mathematiques.
        * Nouveaut : DEBUG : Possibilit de modifier les registres.
        * Nouveaut : VESA : Support commutation multiple des banks.
        * Nouveaut : VESA : Nouvelle fonction Detect_Vesa_Mode.
        * Nouveaut : EOS.FAQ : Nouveau fichier d'aide.
        * Nouveaut : PADDLE : Exemple par Credo.
        * Bug fixed : EOS : Support +64MO de Ram.
        * Bug fixed : EOS : Gestion des IRQs en mode TOP DOWN.
        * Bug fixed : EOS : Int 21 fonction 62 (get psp).
        * Bug fixed : EOS : Chargement de fichier >16 caracteres.
        * Bug fixed : WSTARTUP : Nouvelles dclarations.
        * Bug fixed : RS232 : Serial_Close & Serial_Clear_Buffer.
        * Bug fixed : WEOS : Fonction DPMI 000Ah Create Alias Descriptor.
        * Bug fixed : DIAMOND : Manual_Setup.
        * Bug fixed : SNAP : VESA 2.0.

       Vous pouvez accder directement aux nouvelles modifications de ce fichier en
       cherchant ~v3.0


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Table des matires                                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

          Distribution
          Prsentation des diffrents modules de l'E.O.S
          Comment crer un fichier OBJ
          Comment crer un fichier EXE
          Utilisation d'un fichier makefile avec Turbo Assembler
          Utilisation d'un fichier makefile avec WATCOM C++
          Le fichier include
          Les diffrentes fonctionnalits de l'E.O.S
          Les dclarations gnrales
          La gestion mmoire
          Les fonctions pour la gestion mmoire
               ณAllocate Memory
               ณDeAllocate Memory
               ณAllocate Memory Handle
               ณDeAllocate Memory Handle
               ณResize Memory Handle
               ณAllocate Selector
               ณDeAllocate Selector
               ณPhysical Address Mapping
               ณFree Physical Address Mapping
          La gestion de fichiers
          Les fonctions pour la gestion de fichiers
               ณLoad Internal File
               ณLoad External File
               ณLoad Internal File Handle
               ณLoad External File Handle
               ณWrite External File
          La gestion des cartes sonores
          Comment accder aux diffrentes variables d'un module
          Les effets sonores
          Absence de carte sonores
          Les dclarations du player de module
          Les fonctions pour jouer une musique ou des effets sonores
               ณDetect Sound Card
               ณManual Setup
               ณLoad Module
               ณPlay Module
               ณStop Module
               ณClear Module
               ณSet Volume
               ณPlay Sample
               ณGet Info
               ณSet Pattern
          Gestion d'un second cran monochrome
          Les fonctions pour utiliser un second cran pour le debuggage
               ณSet Mono
               ณSet String Mono
               ณSet Value Mono
          Le clavier
               ณUse Int 09
          Synchronisation avec le balayage
          Les fonctions de synchronisations
               ณWait Vbl
~v3.05         ณGet_Nb_Vbl
               ณUse Int 08
               ณChange Synchro Int 08
          Les variables
               ณCode32 Sel
               ณData32 Sel
               ณFlat Data Sel
               ณFlat Code Sel
               ณSlecteur 40h
~v3.05         ณPsp Sel
~v3.05         ณEnvironment Sel
               ณReal DS
               ณReal ES
               ณReal FS
               ณReal GS
               ณReal SS
               ณReal SP
               ณ0b0000h
               ณ0b8000h
               ณ0a0000h
          Les Macros
               ณColors
               ณGet Param
               ณSend
               ณDosInt
               ณDosCall
               ณInit ES DI
               ณInit DS DX
          Le mode rel
          Les interruptions
          Les IRQ ou interruptions matrielles
          Les Exceptions
          Les fonctions pour grer les interruptions
               ณGet Int
               ณSet Int
               ณGet Irq
               ณSet Irq
~v3.05    Les fonctions pour grer les exceptions
~v3.05         ณGet Exception
~v3.05         ณSet Exception
          Le linker
          Le Debugger 32 bits
               ณDEBUG.OBJ
               ณWDEBUG.EXE et UNBIND.EXE
          Les fonctions du Debuggeur 32 bits
               ณDebug
               ณDebug Back
          Appel du debugger par Break point
               ณBreak Point
~v3.06    Dialogue avec le debugger
               ณAdd Log
          Restitution automatique de l'environement de dpart
          Les fonctions systme
               ณExit Error
               ณRestore Video Mode
               ณDetect Windows
               ณDirect Send
          Comment dvelopper une librairie compatible WATCOM C et E.O.S
               ณLa gestion mmoire sous WATCOM
               ณLes appels aux interruptions en mode REEL
               ณLes variables inutilisables sous WATCOM
               ณDiffrence entre les fichiers sources
~v3.05    A propos de Windows NT
          Les librairies de l'E.O.S
          La librairie VESA
               ณAutomatic Bank Switching en VESA 1.0 ou 2.0
               ณLinear Frame Buffer en VESA 2.0
          Les fonctions de la librairie VESA
~v3.06         ณDetect Vesa Mode
               ณInit Vesa
               ณInit Vesa2
               ณInit Vesa Bank
               ณClose Vesa Bank
               ณSet Bank
          Les variables de la librairie VESA
               ณVesa Clear Palette
          Les dclarations de la librairie VESA
          La librairie FLI32
          Les fonctions de la librairie FLI32
               ณLoad Fli
               ณLoad Internal Fli
               ณFirst Frame Fli
               ณNext Frame Fli
               ณDispose Fli
          La librairie SNAP
          Les fonctions de la librairie SNAP
               ณInit Snap
               ณSnap IFF
               ณSave IFF
          La librairie JOYSTICK
          Les fonctions de la librairie JOYSTICK
               ณInit Joystick
               ณDectect Joystick
               ณAdd Joystick
               ณUpdate Joystick
               ณSub Joystick
               ณUpper Left
               ณLower Right
               ณCenter
          Les dclarations de la librairie JOYSTICK
          La librairie mmoire
          Les fonctions de la librairie mmoire
               ณInit Memory
          La librairie RS232
          Les fonctions de la librairie RS232
               ณSerial Open
               ณSerial Close
               ณSerial Read
               ณSerial Read Block
               ณSerial Write
               ณSerial Write Block
               ณSerial Clear Buffer
               ณSerial Status
               ณSerial Set Dtr
               ณSerial Reset Dtr
               ณSerial Set Rts
               ณSerial Reset Rts
               ณSerial Stand By
               ณSerial Buffer Full
          Les dclarations de la librairie RS232
          La librairie CDROM
          Les fonctions de la librairie CDROM
               ณDetect CDROM
               ณOpen CDROM
               ณClose CDROM
               ณPlay Track
               ณStop CDROM
               ณResume CDROM
               ณGet Nb Tracks
               ณGet Track Info
               ณGet Current Track Info
          Comment accder aux diffrentes variables du CDROM
          Les librairies des utilisateurs de l'E.O.S
~v3.05    La librairie USM de Freddy Vtl (Player de XM)
~v3.05    Les fonctions de la librairie USM de Freddy Vtl
          La librairie FONT de Thomas Mangin
               ณPrint Screen Size
               ณPrint Vesa Version
               ณPrint Vesa Memory
               ณPrint Goto X
               ณPrint Goto Y
               ณPrint Goto XY
               ณPrint Color
               ณPrint Char
               ณPrint Text
               ณPrint Hex
               ณPrint Dec
          La librairie GIF de Thomas Bernard
          Les fonctions de la librairie GIF de Thomas Bernard
               ณLoad External Gif Handle
               ณLoad Internal Gif Handle
               ณGif Handle
               ณGif X
               ณGif Y
               ณGif Palette
          Les fonctions du DPMI (interruption 31h) supportes par l'E.O.S
          Les fonctions du DOS (interruption 21h) supportes par l'E.O.S


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Distribution                                                             บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Toutes les marques cites dans cette documentation sont dposes par leurs
propritaires respectif.

Les adaptations, copies, transmissions, distributions ou extractions de la version
complte de l'E.O.S sont totalement interdite sans autorisation des auteurs.

De plus, il est strictement interdit d'inclure l'E.O.S en tant que lanceur  ~v3.05
dans un sytme embarqu.                                                    ~v3.05

Par contre, la distribution de la version Shareware est fortement conseille 
condition que cette documentation l'accompagne et que ces oprations n'aient pas
un but lucratif.

Les auteurs ne peuvent en aucun cas tre tenus responsables pour tout
dommage caus par l'E.O.S et sa mauvaise utilisation. En outre le prsent
produit est fourni sans assistance et sans aucune obligation de la part des
auteurs en ce qui concerne l'utilisation, la correction, la modification
ou l'amlioration de l'E.O.S.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Prsentation des diffrents modules de l'E.O.S                           บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

L'E.O.S est constitu de plusieurs fichiers.


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
  Version d'valuation
* Version Complte
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

        Les objets de base pour Tasm et Masm :

                 EOS.OBJ       Le coeur du systme qui supporte Diamond.
                 EOSLITE.OBJ   La version allge si vous n'utilisez pas
                                le player Diamond.
                 DIAMOND.OBJ   Le player de module 32 voies.

                 EOS.INC       Le fichier include.


        Les objets de base pour WATCOM C++ :

                 WEOS.EXE      Le coeur du systme qui supporte Diamond.
                  WSTARTUP.OBJ
                 WEOSLITE.EXE  La version allge si vous n'utilisez pas
                                le player Diamond.

                 EOS.H         Le fichier include.

                 EOS.LNK       Le fichier de lien pour wlink.


        Le debuggeur pour Tasm, Masm et WATCOM C++ :

                 DEBUG.OBJ     Pour tracer du code 32 bits.
               * MEMORY.OBJ    Pour la gestion de la mmoire.


        Les Librairies TASM et MASM :

                 GIF.OBJ       Pour dcompresser les images de type GIF.
               * VESA.OBJ      Pour accder directement au buffer de la
                                carte graphique sans se proccuper des
                                changements de bank en VESA 1.0.
               * FLI32.OBJ     Pour visualiser les fichiers FLI et FLC.
               * SNAP.OBJ      Pour la capture d'crans 256 couleurs
                                au format IFF.
               * JOYSTICK.OBJ  Pour la gestion des manettes de jeux.
               * RS232.OBJ     Pour communiquer  115200 bauds.
               * CDROM.OBJ     Pour controler un lecteur de CD.


        Les librairies pour Wactom C++ :

                 WGIF.OBJ      Pour dcompresser les images de type GIF.
               * WVESA.OBJ     Pour accder directement au buffer de la
                                carte graphique sans se proccuper des
                                changements de bank en VESA 1.0.
               * WFLI32.OBJ    Pour visualiser les fichiers FLI et FLC.
               * WSNAP.OBJ     Pour la capture d'crans 256 couleurs
                                au format IFF.
               * WJOYSTICK.OBJ Pour la gestion des manettes de jeux.
               * WRS232.OBJ    Pour communiquer  115200 bauds.
               * WCDROM.OBJ    Pour controler un lecteur de CD.


        Les outils :

                 EOSCFG.EXE    Pour configurer les fichiers EXE.
                 LLINK.EXE     Pour crer un seul fichier EXE compress.
                 CRYPT.EXE     Pour protger vos donnes.
                 SCANCODE.EXE  Pour afficher les codes du clavier.
                 EDCONFIG.EXE  Pour configurer le debugger
                 DIET.EXE      Pour compresser vos donnes
                 DIAMOND.EXE   Pour tester un module.
                 CDROM.EXE     Pour jouer un CD.
                 UNBIND.EXE    Pour extraire Dos4GW d'un executable.
                 WSTUB.EXE     Pour utiliser l'E.O.S en externe.
                 WSTUBLTE.EXE  Version allge sans Diamond.
~v3.05           VESADTCT.EXE  Pour connatre les diffrents mode graphique
                                d'une carte.
               * WDEBUG.EXE    Pour debugger des programmes au format LE.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Comment crer un fichier OBJ                                             บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

         A partir de l'invit de MS-Dos, taper simplement :

                TASM Mon_programme.asm /m /q /p


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Comment crer un fichier EXE                                             บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

        Si vous n'utilisez pas le player de module :

                TLINK eoslite+Mon_programme /3 /x


        Si vous utilisez le player de module :

                TLINK eos+diamond+Mon_programme /3 /x


        Si vous utilisez une librairie :

                TLINK  eos+diamond+Ma_librairie+Mon_programme /3 /x


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Utilisation d'un fichier makefile avec Turbo Assembler                   บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Le programme MAKE.EXE de Borland permet d'automatiser les commandes
d'assemblage et de linkage  l'aide d'un seul fichier script.

Exemple de fichier makefile :

        PRG = EXAMPLE1
        RES = ..\RESOURCE

        $(PRG).exe:    $(PRG).obj                  \

                @tlink $(RES)\eoslite              \
                       $(PRG),$(PRG).EXE /3 /x

        $(PRG).obj: $(PRG).asm
                @tasm  $(PRG) /m /q /p

Pour crer votre excutable, taper simplement MAKE.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Utilisation d'un fichier makefile avec WATCOM C++                        บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Le programme WMAKE.EXE de WATCOM permet d'automatiser les commandes
d'assemblage et de linkage comme avec Make.

Exemple de fichier makefile :

        PROGNAME = TEST
        RES      = ..\RESOURCE

        CFLAGS = /j /mf /fpi87 /fp3 /4s /oailt -4
        CC = WCC386

        .c.obj:
                $(CC) $(CFLAGS) $*.c

        all: $(PROGNAME).exe

        $(PROGNAME).exe : $(PROGNAME).obj

           @wlink F $(PROGNAME) \
                  @$(RES)\eos.lnk system eoslite_c

Pour crer votre excutable, taper simplement MAKE ou WMAKE /u.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Le fichier include                                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Le fichier include (EOS.INC ou EOS.H) est certainement le fichier le plus
important. Il contient en effet toutes les dclarations des diffrentes
fonctions, macros et variables de l'E.O.S C'est grce  lui que votre
programme est en mesure de dialoguer avec l'E.O.S.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les diffrentes fonctionnalits de l'E.O.S                               บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Le systme E.O.S dispose d'un certain nombre de fonctions trs utiles que l'on
peut appeler par l'intermdiaire de l'interruption Int_EOS.

Il suffit juste d'indiquer la fonction voulue  l'aide du registre AH comme
ci-dessous :

        mov ah,Fonction_a_appeler
        Int_EOS


Les fonctions disponibles sont les suivantes :

EOS.OBJ
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณAllocate Memory                                                           ณ
ณDeAllocate Memory                                                         ณ
ณAllocate Memory Handle                                                    ณ
ณDeAllocate Memory Handle                                                  ณ
ณResize Memory Handle                                                      ณ
ณAllocate Selector                                                         ณ
ณDeAllocate Selector                                                       ณ
ณPhysical Address Mapping                                                  ณ
ณFree Physical Address Mapping                                             ณ
ณ                                                                          ณ
ณLoad Internal File                                                        ณ
ณLoad External File                                                        ณ
ณLoad Internal File Handle                                                 ณ
ณLoad External File Handle                                                 ณ
ณWrite External File                                                       ณ
ณ                                                                          ณ
ณSet Mono                                                                  ณ
ณSet String Mono                                                           ณ
ณSet Value Mono                                                            ณ
ณ                                                                          ณ
ณUse Int 09                                                                ณ
ณ                                                                          ณ
ณWait Vbl                                                                  ณ
ณGet Nb Vbl                                                                ณ~v3.05
ณUse Int 08                                                                ณ
ณChange Synchro Int 08                                                     ณ
ณ                                                                          ณ
ณGet Int                                                                   ณ
ณSet Int                                                                   ณ
ณGet Irq                                                                   ณ
ณSet Irq                                                                   ณ
ณ                                                                          ณ
ณGet Exception                                                             ณ~v3.05
ณSet Exception                                                             ณ~v3.05
ณ                                                                          ณ
ณExit Error                                                                ณ
ณ                                                                          ณ
ณRestore Vido Mode                                                        ณ
ณ                                                                          ณ
ณDetect Windows                                                            ณ
ณ                                                                          ณ
ณDirect Send                                                               ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

DIAMOND.OBJ
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect Sound Card                                                         ณ
ณManual Setup                                                              ณ
ณLoad Module                                                               ณ
ณPlay Module                                                               ณ
ณStop Module                                                               ณ
ณClear Module                                                              ณ
ณSet Volume                                                                ณ
ณPlay Sample                                                               ณ
ณGet Info                                                                  ณ
ณSet Pattern                                                               ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les Dclarations gbrales                                               บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Pour faciliter l'criture de vos programmes, l'E.O.S dispose de quelques
dclarations gnrales trs pratiques :

  On         = 1
  Off        = 0
  B          = Byte Ptr
  W          = Word Ptr
  D          = Dword Ptr
  F          = Fword Ptr
  O          = Offset

Exemple :

        mov edi, O File_Name

        ou

        mov edi, Offset File_Name


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La gestion mmoire                                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Avec l'E.O.S, finit les problmes de mmoire ! Vous pouvez dsormais adresser
linairement toutes la mmoire disponible et cela quelques que soit la
configuration de votre systme :

         Mode RAW  sans Himem.
         Mode XMS  avec Himem.
         Mode VCPI avec EMS (Emm386 highscan).
         Mode VCPI sans EMS (Emm386 noems).
         Mode DPMI avec Windows(tm) 3.1x.
         Mode DPMI avec Windows(tm) 95.
         Mode DPMI avec OS/2(tm) 2.1 ou OS/2 Warp(tm).


Pour allouer ou restituer de la mmoire suprieur, une simple
interruption de l 'E.O.S suffit :


        Allocation sans handle :

                mov ah,Allocate_Memory
                mov edx,Taille_Allocation
                Int_EOS
                jc Not_Enough_Memory
                mov [Logical_Address_Of_Block],edx


        Restitution de la dernire allocation :

                mov ah,DeAllocate_Memory
                Int_EOS


        Allocation par handle :

                mov ah,Allocate_Memory_Handle
                mov edx,Taille_Allocation
                Int_EOS
                jc Not_Enough_Memory
                mov [Logical_Address_Of_Block],edx
                mov [Memory_Handle],edi


        Restitution par handle :

                mov ah,DeAllocate_Memory_Handle
                mov edi,[Memory_Handle]
                Int_EOS
                jc Invalid_Handle


Vous pouvez avec la mme simplicit crer vos propres slecteurs et profiter
pleinement de la segmentation du mode protg.


        Allocation d'un slecteur :

                mov ah,Allocate_Selector
                mov esi,0a0000h     ; Base
                mov edi,0fh         ; 64ko (0000-ffff)
                Int_EOS
                jc No_Free Selector
                mov [_0a0000h_Sel],bx


        Restitution d'un slecteur :

                mov ah,DeAllocate_Selector
                mov bx,[_0a0000h_Sel]
                Int_EOS
                jc Invalid_Selector


Vous pouvez aussi remapper la mmoire pour accder linairement  la carte
graphique :

                mov ah,Physical_Address_Mapping
                mov ecx,1024*1024
                mov esi,[Vesa_Linear_Address]
                Int_EOS
                jc Not_Enough_Memory


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions pour la gestion mmoire                                    บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณAllocate Memory              ณ
ณDeAllocate Memory            ณ
ณAllocate Memory Handle       ณ
ณDeAllocate Memory Handle     ณ
ณResize Memory Handle         ณ
ณAllocate Selector            ณ
ณDeAllocate Selector          ณ
ณPhysical Address Mapping     ณ
ณFree Physical Address Mappingณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณAllocate Memory   Allocate Upper memory                                   ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Allocate_Memory                                              ณ
ณ       EDX = Size of memory block to allocate in bytes                    ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ       EAX = Physical address of the block (work with Flat_Data_Sel)      ณ
ณ       EDX = Logical address of the block (work with Data32_Sel)          ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Can't allocate memory                                        ณ
ณ       EAX = Largest available free memory                                ณ
ณ       EDX = Total available memory                                       ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Allocate_Memory
            mov edx,[Allocation_Size]
            Int_EOS
            jc Not_Enough_Memory
            mov [Physical_Address_Of_Block],eax     ; Work with Flat_Data_Sel
            mov [Logical_Address_Of_Block],edx      ; Work with Data32_Sel


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDeAllocate Memory   Free the last allocate memory                         ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = DeAllocate_Memory                                            ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,DeAllocate_Memory
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณAllocate Memory Handle  Allocate Upper memory with handle                 ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Allocate_Memory                                              ณ
ณ       EDX = Size of memory block to allocate in bytes                    ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ       EAX = Physical address of the block (work with Flat_Data_Sel)      ณ
ณ       EDX = Logical address of the block (work with Data32_Sel)          ณ
ณ       EDI = Handle of Memory                                             ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Can't allocate memory                                        ณ
ณ       EAX = Largest available free memory                                ณ
ณ       EDX = Total available memory                                       ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Allocate_Memory_Handle
            mov edx,[Allocation_Size]
            Int_EOS
            jc Not_Enough_Memory
            mov [Physical_Address_Of_Block],eax     ; Work with Flat_Data_Sel
            mov [Logical_Address_Of_Block],edx      ; Work with Data32_Sel
            mov [Memory_Handle],edi


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDeAllocate Memory Handle  Free the allocate memory with this handle       ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = DeAllocate_Memory                                            ณ
ณ       EDI = Handle of Memory                                             ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Invalid handle                                               ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,DeAllocate_Memory_Handle
            mov edi,[Memory_Handle]
            Int_EOS
            jc Invalid_Handle


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณResize Memory Handle    Resize the allocate memory with this handle       ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Resize_Memory_Handle                                         ณ
ณ       ECX = New Size of the memory block                                 ณ
ณ       EDI = Handle of Memory                                             ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ       EAX = Physical address of the block (work with Flat_Data_Sel)      ณ
ณ       EDX = Logical address of the block (work with Data32_Sel)          ณ
ณ       EDI = New Handle of Memory                                         ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Invalid handle                                               ณ
ณ             Not Enough Memory                                            ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Resize_Memory_Handle
            mov edi,[Memory_Handle]
            Int_EOS
            jc Invalid_Handle
            mov [Memory_Handle],edi
            mov [Addr_Memory],edx


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณAllocate Selector   Create a new selector (Data type)                     ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Allocate_Selector                                            ณ
ณ       ESI = Physical base address of the new selector                    ณ
ณ       EDI = Size of the new selector modulo 4096                         ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ        BX = New selector                                                 ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Can't create selector                                        ณ
ณ                                                                          ณ
ณOther Registers Change : EAX                                              ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Allocate_Selector
            mov esi,0a0000h
            mov edi,0fh         ; 64ko (0000-ffff)
            Int_EOS
            jc No_Free Selector
            mov [_0a0000h_Sel],bx


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDeAllocate Selector   Free a Selector                                     ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = DeAllocate_Selector                                          ณ
ณ        BX = Selector                                                     ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Can't deallocate selector                                    ณ
ณ                                                                          ณ
ณOther Registers Change :  EAX,EBX                                         ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,DeAllocate_Selector
            mov bx,[_0a0000h_Sel]
            Int_EOS
            jc Invalid_Selector


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณPhysical Address Mapping           Allocate memory mapping                ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Physical_Address_Mapping                                     ณ
ณ       ECX = Size Of region                                               ณ
ณ       ESI = Physical address of memory                                   ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ       ESI = Linear Address of the region                                 ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             No Room free                                                 ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Physical_Address_Mapping
            mov ecx,1024*1024
            mov esi,[Vesa_Linear_Address]
            Int_EOS
            jc Not_Enough_Memory


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณFree Physical Address Mapping      Free the allocate memory mapping       ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Free_Address_Mapping                                         ณ
ณ       ESI = Address of the block to free                                 ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Invalid address                                              ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Free_Physical_Address_Mapping
            mov esi,[Vesa_Linear_Address]
            Int_EOS
            jc Invalid_Address


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La gestion de fichiers                                                   บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Charger un fichier en mmoire n'est gure plus compliqu.

        Chargement d'un fichier externe :

                mov ah,Load_External_File
                mov edx,offset File_name
                Int_EOS
                jc Error_File
                mov File_Buffer,eax


        Chargement d'un fichier link avec LightLink (Linker fournit avec
        l'E.O.S) :

                mov ah,Load_Internal_File
                mov edx,offset File_name
                Int_EOS
                mov File_Buffer,eax


        Restitution de la dernire allocation :

                mov ah,DeAllocate_Memory
                Int_EOS


        Chargement d'un fichier externe avec un handle:

                mov ah,Load_External_File_Handle
                mov edx,offset File_name
                Int_EOS
                jc Error_File
                mov File_Buffer,eax
                mov Memory_Handle,edi


        Restitution par handle :

                mov ah,DeAllocate_Memory_Handle
                mov edi,[Memory_Handle]
                Int_EOS
                jc Invalid_Handle


La fonction Load_Internal_File fonctionne aussi si le programme n'est pas
link. L'E.O.S est capable de distinguer les deux cas ce qui permet de
dvelopper et tester un programme sans avoir  linker les donnes.
De plus, si votre fichier est compact avec un format de type LZ comme
Diet 1.44 l'E.O.S le dcompresse automatiquement !

        Il est aussi possible de faire l'opration inverse :

                mov ah,Write_External_File
                mov edx,O File_name
                mov esi,[Buffer]
                mov ecx,[Size_Buffer]
                Int_EOS
                jc Error_File


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions pour la gestion de fichiers                                บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad Internal File       ณ
ณLoad External File       ณ
ณLoad Internal File Handleณ
ณLoad External File Handleณ
ณWrite External File      ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad Internal file   Load a file which is link with LLINK                 ณ
ณ                     if the file is not present the program stop and      ณ
ณ                     display a error message                              ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Load_Internal_File                                           ณ
ณ       EDX = Offset of file name                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       EAX = Logical address of buffer (work with Data32_Sel)             ณ
ณ       ECX = Number of bytes read                                         ณ
ณ       ESI = Physical address of buffer (work with Flat_Data_Sel)         ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Load_Internal_File
            mov edx,O File_name
            Int_EOS
            mov [File_Buffer],eax


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad External file   Load a external file and uncompress it if it has     ณ
ณ                     been compress with Diet 1.44                         ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Load_External_File                                           ณ
ณ       EDX = Offset of file name                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = Logical address of buffer (work with Data32_Sel)             ณ
ณ       ECX = Number of bytes read                                         ณ
ณ       ESI = Physical address of buffer (work with Flat_Data_Sel)         ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 File Not Found                                             ณ
ณ             2 Not Enough Memory                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Load_External_File
            mov edx,O File_name
            Int_EOS
            jc Error_File
            mov [File_Buffer],eax


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad Internal File Handle  Load a file which is link with LLINK           ณ
ณ                           if the file is not present the program stop    ณ
ณ                           and display a error message                    ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Load_Internal_File_Handle                                    ณ
ณ       EDX = Offset of file name                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       EAX = Logical address of buffer (work with Data32_Sel)             ณ
ณ       ECX = Number of bytes read                                         ณ
ณ       ESI = Physical address of buffer (work with Flat_Data_Sel)         ณ
ณ       EDI = Handle of Memory                                             ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Load_Internal_File_Handle
            mov edx,O File_name
            Int_EOS
            mov [File_Buffer],eax
            mov [Memory_Handle],edi


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad External File Handle  Load a external file and uncompress it if it   ณ
ณ                           has been compress with Diet 1.44               ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Load_External_File_Handle                                    ณ
ณ       EDX = Offset of file name                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = Logical address of buffer (work with Data32_Sel)             ณ
ณ       ECX = Number of bytes read                                         ณ
ณ       ESI = Physical address of buffer (work with Flat_Data_Sel)         ณ
ณ       EDI = Handle of Memory                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 File Not Found                                             ณ
ณ             2 Not Enough Memory                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Load_External_File_Handle
            mov edx,O File_name
            Int_EOS
            jc Error_File
            mov [File_Buffer],eax
            mov [Memory_Handle],edi


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณWrite External File  Save a File on a Disk                                ณ
ณ                                                                          ณ
ณEntree :                                                                  ณ
ณ        AH = Write_External_File                                          ณ
ณ       ECX = Size Of File                                                 ณ
ณ       EDX = Offset of file name                                          ณ
ณ       ESI = Buffer address                                               ณ
ณ                                                                          ณ
ณSortie :                                                                  ณ
ณ       Carry = 0                                                          ณ
ณ        Tout Va Bien                                                      ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Erreur  Can't write file                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Write_External_File
            mov edx,O File_name
            mov esi,[Buffer]
            mov ecx,[Size_Buffer]
            Int_EOS
            jc Error_File


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La gestion des cartes sonores                                            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

La gestion des cartes sonores n'a pas t oublie.

L'E.O.S est en effet capable de jouer un sample ou un module Amiga (de 2  32
voix) sans la moindre programmation de votre part sur les neuf cartes
suivantes :

         Sound Blaster
         Sound Blaster Pro
         Sound Blaster 16 Asp
         Sound Blaster AW32
         Gravis Ultrasound
         Gravis Ultrasound Max
         Gravis Ultrasound Ace
         Gravis Ultrasound Pnp
         Windows Sound System

Pour une qualit de mixage optimale, l'E.O.S choisit automatiquement le
mixage adapt  la carte sonore dtecte (8bits pour la SB pro, 16 bits pour
la Sb 16, etc...).

Attention : La dtection est ralise  l'aide de la variable d'environnement
(Blaster ou Ultrasnd). Si cette variable n'est pas correctement renseigne
aucune carte sonore ne sera dtecte.


        Exemple :

                mov ah,Detect_Sound_Card
                xor bx,bx
                mov cx,1
                Int_EOS

                Vous n'tes pas oblig d'utiliser la dtection automatique :

                mov ah,Manual_Setup
                mov al,Gravis
                mov bx,220h
                mov cl,7
                mov ch,7
                mov dl,1
                mov dh,1
                Int_EOS

                Aprs avoir dtecter une carte il faut charger un fichier de
                musique en mmoire :

                mov ah,Load_Module
                mov al,4
                mov ebx,22000
                mov edx,offset Module_name
                xor ecx,ecx
                Int_EOS
                jc error_file

                Pour finir il faut lancer la musique :

                mov ah,Play_Module
                Int_EOS

                Plusieurs fonctions sont alors disponibles :

                        Set Volume   Pour changer le volume de la musique
                        Play Sample  Pour jouer un sample
                        Get Info     Pour obtenir des infos sur la musique
                                     (synchronisation par exemple)
                        Set Pattern  Pour changer de position dans un module

                call Pause

                mov ax,4c00h
                int 21h

Comme vous le voyez ci-dessus, vous n'tes pas oblig d'arrter la musique
ou de librer la mmoire avant de quitter votre programme. C'est l'E.O.S qui
s'en charge. A chaque fois qu'il rencontre la fonction 4c00h ou lors
d'un plantage programme, l'E.O.S restitue automatiquement
l'environnement de dpart :

         Le mode vido y compris les modes VESA (132x60,etc...)
         L'heure de l'horloge.
         Les interruptions.
         La mmoire alloue.
         Stoppe la musique.

Bien entendu, il est toujours possible de librer la mmoire et d'arrter
un module pour en charger un autre comme ci-dessous:

                mov ah,Stop_Module
                Int_EOS

                mov ah,Clear_Module
                Int_EOS


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Comment accder aux diffrentes variables d'un module                    บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Pour accder aux informations d'un module, vous pouvez utiliser la fonction
Get_Info ou accder directement aux variables ci-dessous :

Sound_Card_Type                 : Byte
Sound_Card_Port                 : Word
Sound_Card_Irq                  : Byte
Sound_Card_Dma                  : Byte
Master_Volume                   : Byte
Master_Volume_Sfx               : Byte
Current_Pattern                 : Byte
Current_Note                    : Byte
Current_Speed                   : Byte
Current_BPM                     : Byte
Index_Pattern_Order             : Dword
Pattern_Order                   : Byte
Number_Channel                  : Dword
Diamond_Channel                 : MS

MS                              struc
        Current_Sample          dd      0      ; (Current Sample*4)-4
        Porta                   dw      ?      ; Porta value (0..FF)
        Tremelo                 db      ?      ; Tremelo value (0..FF)
        Current_Position        dd      ?      ; Software mixing HI position
        Current_Low_Position    dd      ?      ; Software mixing Low position
        Jump_0e6                db      ?      ; Note for restart the loop
        Compt_jump_0e6          db      ?      ; Nb of Repeat for E6 effect
        Flags_0e6               db      ?      ; On or Off for E6 effect
        Porta_Freq              dw      ?      ; Final Value for a porta to
        Porta_To                dw      ?      ; Porata to value
        Vibrato                 db      ?      ; Value for Vibrato
        Vibrato_Flag            db      ?      ; Index of Sinus for Vibrato
        FineTune                dw      ?      ; Current FineTune
        Last_Effect             dd      0      ; Offset of the last effect procedure
        Voice                   db      ?      ; Voice Number (Gravis)
        Sample_volume           db      ?      ; Current Sample Volume
        Base_Sample_Volume      db      ?      ; Sample Volume
        Mute                    db      ?      ; On is a channel is mute
        Frequence               dw      ?      ; Current Frequence of the sample
        Compt_Frequence         dd      ?      ; Value to add in Software mixing
        New_sample              db      ?      ; On for a new sample
        Arp                     dw      ?,?,?  ; Value for Arpegio
        Arp_Counter             dw      ?      ;
        Slide_volume            dw      ?      ; Value for Slide Volume
        Panning                 db      ?      ; Not supported
        Retrig_Note             db      ?      ; On for a retrig note
        Retrig_Note_Val         db      ?      ; Value to Wait for the retrig note
        Cut_Note                db      ?      ; Cut Note value
        Delay_Note              db      ?      ; Delay Not value
                                db      0
        Delay_Note_Offset       dd      ?
        Addr_Read_Again         dd      ?
MS                              ends


Exemple :

            mov [Master_Volume],32      ; Set Music Volume
            mov [Master_Volume_Sfx],63  ; Set Sample Volume


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Absence de carte sonore                                                  บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

L'E.O.S permet de jouer un module mme en cas d'absence de carte
sonore. De ce fait, si certains venements sont synchroniss par rapport 
la musique aucunes modifications n'est a apporter pour les machines sans
carte sonore.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les dclarations du player de module                                     บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

  No_Card    = 0
  Sb_10      = 01h
  Sb_15      = 02h
  Sb_20      = 03h
  Sb_Pro     = 04h
  Sb_16      = 05h
  Sb_Awe     = 06h
  Gravis     = 10h
  Gravis_Max = 11h
  Gravis_Ace = 12h
  Gravis_Pnp = 13h
  WSS        = 20h


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les effets sonores                                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

L'E.O.S est en mesure de jouer des samples indpendamment de la musique.
Pour cela il faut dclarer des pistes fictives lorsque l'on charge un module
en mmoire :

Exemple :
            mov ah,Load_Module
            mov al,4+1
            mov bx,22000
            mov ecx,1               ; Nombre de pistes pour les effets sonores
            mov edx,O Module_Name
            Int_EOS
            jc Error_Loading_Module


On peut ensuite jouer un sample  l'instant voulu trs facilement :

            mov ah,Play_Sample
            mov cx,339              ; Freq.
            mov dx,00               ; Piste 1
            mov bx,09h              ; Sample number
            Int_EOS


On peut aussi savoir a tout moment a quelle position se trouve le module :

            mov ah,Get_Info
            Int_EOS

Dans AH , La position courante du module : pour se baser par rapport  FT2
c'est le chiffre  gauche dans la double colonne en haut  gauche. Cette valeur
normalement ne fait qu'augmenter de 1  chaque nouvelle parttern.

Dans AL , La pattern courante qui est en train de d'tre joue. C'est dans FT2
le chiffre a droite dans la duble colonne en haut  gauche. Cette valeur peut
prendre differentes valeurs non sequentielle

Dans BX , c'est la note courante courante dans la pattern courante . Cette valeur
est comprise entre 0 et 63 :


Position Pattern
AH =  ณ  ณ AL =
        
     ษออหออป ฺฤฟ
     บ00บ00บ ณณ
     บ01บ01บ รฤด
     บ02บ01บ ณ ณ
     บฤฤืฤฤถ ณ ณ
     บ03บ02บ ณ ณ
     บฤฤืฤฤถ ณ ณ
     บ04บ01บ ณ ณ
     บ05บ03บ รฤด
     บ06บ04บ ณณ
     ศออสออผ ภฤู


        ..
        10 บC#5ณ10ณF05บ   ณ  ณ...บ   ณ  ณ...บ   ณ  ณ...บ
        11 บ   ณ  ณ...บB-4ณ10ณ...บB-3ณ10ณ492บ   ณ  ณ...บ
        12 บ   ณ  ณ...บ   ณ  ณ...บ   ณ  ณ...บ   ณ  ณ...บ
Note  ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
BX =    13 บC#5ณ10ณF05บ   ณ  ณ...บ   ณ  ณ...บ   ณ  ณ...บ
      ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
        14 บ   ณ  ณ...บA-3ณ01ณA10บ   ณ  ณ...บA-1ณ02ณC05บ
        15 บ   ณ  ณ...บ   ณ  ณ...บ   ณ  ณ...บ   ณ  ณ...บ
        ..



ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions pour jouer une musique ou des effets sonores               บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect Sound Cardณ
ณManual Setup     ณ
ณLoad Module      ณ
ณPlay Module      ณ
ณStop Module      ณ
ณClear Module     ณ
ณSet Volume       ณ
ณPlay Sample      ณ
ณGet Info         ณ
ณSet Pattern      ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect Sound Card   Detect with the environment variable the sound        ณ
ณ                    card installed                                        ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Detect_Sound_Card                                            ณ
ณ        CX = 1  Display result of Searching                               ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        AX = 0  No_Card                                                   ณ
ณ           = 1  Sound Blaster 1.0                                         ณ
ณ           = 2  Sound Blaster 1.5                                         ณ
ณ           = 3  Sound Blaster 2.0                                         ณ
ณ           = 4  Sound Blaster Pro                                         ณ
ณ           = 5  Sound Blaster 16                                          ณ
ณ           = 6  Sound Blaster Awe 32                                      ณ
ณ           = 10h  Gus                                                     ณ
ณ           = 11h  Gus Max                                                 ณ
ณ           = 12h  Gus Ace                                                 ณ
ณ           = 13h  Gus Pnp                                                 ณ
ณ           = 20h  Windows Sound System                                    ณ
ณ        BX = Port                                                         ณ
ณ        CX = Irq                                                          ณ
ณ        DX = Dma                                                          ณ
ณ        SI = Dsp Version (For Sb) ou                                      ณ
ณ             Size of RAM of the Gravis                                    ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Detect_Sound_Card
            mov cx,1
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณManual Setup                                                              ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Manual_Setup                                                 ณ
ณ        AL = Type                                                         ณ
ณ        BX = Port                                                         ณ
ณ        CL = Irq1                                                         ณ
ณ        CH = Irq2      ; Irq Gus 2                                        ณ
ณ        DL = Dma1      ; Dma Gus 1 or Dma 8 Bits for SB                   ณ
ณ        DH = Dma2      ; Dma Gus 2 or Dma 16 Bits for SB                  ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry Off                                                         ณ
ณ        Init Ok                                                           ณ
ณ                                                                          ณ
ณ        Carry On                                                          ณ
ณ        No Sound Card Found                                               ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

            mov ah,Manual_Setup
            mov al,Gravis
            mov bx,220h
            mov cl,7
            mov ch,7
            mov dl,1
            mov dh,1
            Int_EOS
            ...
            mov ah,Manual_Setup
            mov al,Sb_16
            mov bx,220h
            mov cl,7
            mov dl,1
            mov dh,5
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad Module   Load a module & initialize into the memory                  ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Load_Module                                                  ณ
ณ        AL = Bit 0 = 1  Load a internal module (can be compress and link  ณ
ณ                        with LLINK)                                       ณ
ณ           = Bit 1 = 1  Load module  from memory                          ณ
ณ           = Bit 2 = 1  Force old mod Loading (15 instr)                  ณ
ณ        BX = Replay rate (16000 to 44100 Hz)                              ณ
ณ        CX = Number of Sfx Channel                                        ณ
ณ        DS:EDX = Offset of Module name or                                 ณ
ณ                 Offset into the memory of the beginning of the module    ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Can't Load Module                                            ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Load_Module
            mov al,4+1
            mov bx,22000
            xor ecx,ecx
            mov edx,O Module_Name
            Int_EOS
            jc Error_Loading_Module


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณPlay Module   Start playing the module                                    ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Play_Module                                                  ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Can't Play Module                                            ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Play_Module
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณStop Module   Stop playing module                                         ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Stop_Module                                                  ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Stop_Module
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณClear Module   Unload the module from memory                              ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Clear_Module                                                 ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Clear_Module
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSet Volume   Set the master volume of the module                          ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Set_Volume                                                   ณ
ณ        BL = Volume (0 to 63)                                             ณ
ณ        CL = Sfx Volume (0 to 63)                                         ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Set_Volume
            mov bl,[New_Volume]
            mov cl,[New_Volume_Sfx]
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณPlay Sample   Play a sample include into the module                       ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Play_Sample                                                  ณ
ณ        BX = Sample numbers                                               ณ
ณ        CX = Sample Frequency                                             ณ
ณ        DX = voice of sample                                              ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Play_Sample
            mov bx,10
            mov cx,15fh
            mov dx,4
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณGet Info   Get information about the module when playing                  ณ
ณ                                                                          ณ
ณIn:                                                                       ณ
ณ        AH = Get_Info                                                     ณ
ณ                                                                          ณ
ณOut:                                                                      ณ
ณ        AH = Position                                                     ณ
ณ        AL = Pattern                                                      ณ
ณ        BX = Note                                                         ณ
ณ        CL = Master Volume                                                ณ
ณ        DL = Master Volume Sfx                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Get_Info
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSet Pattern  Set the current position of the playing module               ณ
ณ                                                                          ณ
ณIn:                                                                       ณ
ณ        AH = Set_Pattern                                                  ณ
ณ        BX = New_Position                                                 ณ
ณ        CX = New_Note                                                     ณ
ณ                                                                          ณ
ณOut:                                                                      ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Set_Pattern
            mov bx,[New_Position]
            mov cx,[New_Note]
            Int_EOS


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Gestion d'un second cran monochrome                                     บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Pour faciliter le debuggage de vos programmes, l'E.O.S fournit des
fonctions qui permettent de controler un deuxime cran via une carte
monochrome de type Hercule.

L'E.O.S dtecte automatiquement votre cran. Cependant, si celui-ci n'tait
pas reconnu, vous pouvez utiliser la squence suivante :

                mov ah,Set_Mono
                mov bx,On
                Int_EOS

Deux fonctions sont alors disponibles : l'affichage d'une chane de
caractre ASCII et l'affichage d'une valeur Hexadcimal.

        Afficher une Chane ASCII :

                mov ah,Set_String_Mono
                mov bx,Coordonee X
                mov cx,Coordonee Y
                mov edx,Offset Chaine_A_Afficher
                Int_EOS

        Afficher une Valeur Hexadcimal :

                mov ah,Set_Value_Mono
                mov bx,Coordonee X
                mov cx,Coordonee Y
                mov edx,Valeur_A_Afficher
                Int_EOS

Une macro est galement disponible : Send qui permet une utilisation
plus simple de la fonction Set_Value_Mono

        Afficher une Valeur sur l'cran monochrome :

                Send Valeur_A_Afficher,X,Y

La chane ASCII peut se terminer soit par $ soit par le caractre NULL.
La fonction prend aussi en compte les caractres retour chariot (13 et 10).
Les valeurs en hexadcimal ne doivent pas dpasser 32 Bits.

Attention : Pour un gain de temps aucun test n'est effectu au niveau des
            coordonnes de l'cran.

Note : L'cran Monochrome est automatiquement effac au dbut et a la fin d'un
       programme.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions pour utiliser un second cran pour le debuggage            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSet Mono       ณ
ณSet String Monoณ
ณSet Value Mono ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSet Mono   Force On/Off the display of all the Monochrome Function        ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Set_Mono                                                     ณ
ณ        BX = On  Force Monochrome Off                                     ณ
ณ             Off Force Monochrome On                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Set_Mono
            mov bx,On
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSet String Mono   Display a string on the Monochrome adapter              ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Set_String_Mono                                              ณ
ณ        BX = Coordonate  X                                                ณ
ณ        CX = Coordonate  Y                                                ณ
ณ       EDX = Address of text ending by $                                  ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Set_String_Mono
            mov bx,1
            mov cx,10
            mov edx,offset text_mono
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSet Value Mono   Display A Word in Hexadcimal on the Monochrome adapter  ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Set_Value_Mono                                               ณ
ณ        BX = Coordonate X                                                 ณ
ณ        CX = Coordonate Y                                                 ณ
ณ        EDX = Value to be display                                         ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Set_Value_Mono
            mov bx,1
            mov cx,10
            mov dx,1234h
            Int_EOS


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Le clavier                                                               บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Une gestion clavier trs simple  t implante dans l'E.O.S afin de vous
faciliter la vie. Pour l'activer il faut prendre le contrle de l'interruption
09 comme ci-dessous :

        Activation du gestionnaire de clavier

                mov ah,Use_Int_09
                mov bx,On
                Int_EOS

Le clavier est alors entirement grer par l'E.O.S qui dialogue directement
avec lui. Il n'y a plus aucun appel vers les anciens gestionnaires du
DOS. L'interruption 16h ne fonctionne donc plus.

La lecture du clavier devient alors trs facile grce  la variable Key_Map.
Cette variable est en ralit un tableau de 128 octets qui correspond
au 128 scancodes renvoys par le clavier.
Pour connatre l'tat d'une touche il suffit de savoir si sont scancode et
 0 ou 1 (On ou Off).

        Exemple, pour tester si la touche Escape est actuellement enfonce :

                cmp Key_Map[Escape],On
                je Touche_Escape_Enfonc

                ...

        Touche_Escape_Enfonc:
                mov Key_Map[Escape],Off

Un scancode spcial "All" est utilis pour savoir une touche a t enfonce
puis relche.

        Exemple, pour tester si la touche Escape  t enfonce :

                cmp Key_Map[All],Escape
                je Touche_Escape_Enfoncer

Ce qui permet d'attendre une touche quelconque :

        @@Attend_Touche:
                cmp Key_Map[All],Off
                je @@Attend_Touche
                mov Key_Map[All],Off

Il est bien entendu possible de dsactiver le clavier et de revenir  l'ancien
gestionnaire.

        Restauration du clavier :

                mov ah,Use_Int_09
                mov bx,Off
                Int_EOS

Note : A la fin du programme, l'E.O.S restitue toutes les interruptions la
       restauration de l'interruption 09 n'est donc pas obligatoire.


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณUse Int 09   Use Internal Keyboard handler to use keyboard                ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Use_Int_09                                                   ณ
ณ        BX = On Enable Int 09                                             ณ
ณ           = Off Disable Int 09 (Default setting)                         ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        EAX= Physical address of the key_map array (for watcom users)     ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Use_Int_09
            mov bx,On
            Int_EOS

            ...

@@Pause:                            ; Test if key pressed
            cmp Key_Map[All],Off
            je @@Pause
            mov Key_Map[All],Off

            ...

@@Pause:                            ; Test if the Esc key is pressed
            cmp Key_Map[Escape],On  ; Actually
            jne @@Pause

            ...

@@Pause:                            ; Test if the ESC key have been pressed
            cmp Key_Map[All],Escape
            jne @@Pause


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Les dclarations pour Key_Map (Azerty)
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

            All
            Escape
            Return
            Alt
            Space
            Left
            Right
            Up
            Down
            Plus
            Moins
            Ctrl
            Num_0   Num_9
            Key_0   Key_9
            Key_A   Key_Z
            Key_F1  Key_F12


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Synchronisation avec le balayage                                         บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

L'E.O.S possde son propre systme de synchronisation.

        Contrle du retracage de l'cran :

                mov ah,Wait_Vbl
                Int_EOS

L'utilisation de l'interruption 08 ou timer permet d'augmenter les capacits
de cette fonction. Comme pour l'interruption clavier il n'y a pas d'appel vers
les anciens gestionnaires.

        Activation du gestionnaire de synchronisation :

                mov ah,Use_Int_08
                mov bx,On
                Int_EOS

Attention : Lorsque vous utilisez Diamond, la fonction Use_Int_08 est
automatiquement active. Dans ce cas la, Use_Int_08 ne sert  rien.

En retour, Wait_Vbl renvoie alors le nombre de balayage effectu depuis le
dernier appel. Cette fonction renvoie toujours 1 si l'interruption 08 est Off.

                mov ah,Wait_Vbl
                Int_EOS
                mov [Nbs_Vbl],eax

Grce  l'utilisation de cette interruption et  la fonction Wait_Vbl votre
programme est toujours capable de savoir combien de frame il a perdu. On
dispose ainsi d'un compteur rgulier trs pratique pour le calcul des
dplacements.

Vous pouvez aussi acceder directement aux nombres de frames perdu en lisant
la variable globale Nb_Vbl :

                mov eax,[Nb_Vbl]

~v3.05          ou par la fonction

~v3.05          mov ah,Get_Nb_Vbl
~v3.05          Int_EOS
~v3.05          mov [Current_Vbl_Lose],eax

La fonction, Change_Synchro_Int_08 permet de changer la frquence de balayage
pour le timer qui est de 70hz par dfaut :

                mov bx,60               ; 60Hz
                mov ah,Change_Synchro_Int_08
                Int_EOS

Une macro est aussi disponible : Colors qui permet de changer une couleur
temporairement pour dcomposer chaque routine de votre programme.

        Fonction Colors:

                colors Numero_de_couleur,Valeur_Rouge,Valeur_Verte,Valeur_bleue


        Exemple d'utilisation des fonctions de balayage :

        @@Boucle:
                colors 0,63,0,0     ; Premire couleur en Rouge vif
                call Procedure_1
                colors 0,0,63,0     ; Deuxime couleur en Ver Vif
                call Procedure_2
                mov ah,Wait_Vbl
                Int_EOS
        @@Compt:
                add [Valeur_Reguliere],1
                dec eax             ; On additionne des valeurs rgulires
                jne @@Compt
                cmp [Key_Map+All],On
                jne @@Boucle


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions de synchronisations                                        บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณWait Vbl             ณ
ณGet_Nb_Vbl           ณ~v3.05
ณUse Int 08           ณ
ณChange Synchro Int 08ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณWait Vbl   Wait the vertical retrace                                      ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       EAX = Number of Vbl lost since the last call                       ณ
ณ             (work only when the Int 08 is on)                            ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Wait_Vbl
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ~v3.05
ณGet Nb Vbl   Return the number of VBL Without waiting the VBL             ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       EAX = Number of Vbl lost since the last call                       ณ
ณ             (work only when the Int 08 is on)                            ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Get_Nb_Vbl
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณUse Int 08   Use Int 08 (IRQ 0) to count frame rate and have a stable     ณ
ณ             vertical retrace                                             ณ
ณ             Defaults frequency is 70Hz                                   ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Use_Int_08                                                   ณ
ณ        BX = On Enable Int 08                                             ณ
ณ           = Off Disable Int 08                                           ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Use_Int_08
            mov bx,On
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณChange Synchro Int 08   Change frequency for Interupt 08                  ณ
ณ                        Defaults frequency is 70Hz                        ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        BX = frequency                                                    ณ
ณ        AH = Change_Synchro_Int_08                                        ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov bx,70                   ; 70hz
            mov ah,Change_Synchro_Int_08
            Int_EOS


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les variables                                                            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

L'E.O.S possde quelques variables 'global' qui peuvent tre ncessaires 
tout moment lors de l'excution d'un programme :


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Code32_Sel
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Slecteur de code (CS).

        Exemple : Dtourner l'interruption 70h :

                mov ah,Set_Int
                mov bx,70h
                mov cx,[Code32_Sel]         ; Slecteur
                mov edx,O New_Int_70h       ; Offset de la nouvelle routine
                Int_EOS

Attention ! En mode protg, il est interdit de faire :

                mov cs:[Valeur],10

Cela dclencherait une exception et arrterait votre programme.


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Data32_Sel
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Slecteur de Donnes (DS).

        Exemple d'utilisation de Data32_Sel :

                Valeur  dd 0

                mov [Valeur],10

En fait, les slecteurs Code32_Sel et Data32_Sel sont identiques.
La diffrence porte sur leur accs. Code32_Sel est en lecture alors
que Data32_Sel est en lecture et criture.

Au dbut d'un programme tous les slecteurs (sauf CS) sont initialiss avec la
valeur de Data32_Sel.

Attention : Sous WATCOM, le slecteur ES pointe sur le PSP du programme.


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Flat_Data_Sel, Flat_Code_Sel
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Slecteurs qui ont pour origine l'adresse zro de la mmoire. Trs utile pour
lire les variables du BIOS. Flat_Data_Sel est en lecture et criture mais il
ne peut pas tre utilis pour excuter du code tandis que Flat_Code_Sel est en
lecture seulement mais peut tre utilis pour excuter du code.

        Lire le mode vido courant :

                push es
                mov es,cs:[Flat_Code_Sel]
                mov al,es:[449h]            ; 40h:49h en mode rel
                pop es



ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Slecteur 40h
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Slecteurs qui permet d'accder directement aux variables du BIOS :

        Lire le mode vido courant :

                push es
                mov ax,40h
                mov es,ax
                mov al,es:[49h]             ; 40h:49h en mode rel
                pop es

ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ~v3.05
Psp_Sel,Environment_Sel
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Slecteurs qui permettent d'acceder au PSP et a l'environement d'un programme

        Lire les parametres courant :

                push ds
                mov ds,cs:[Psp_Sel]
                movzx ecx,byte ptr ds:[80h]
                mov esi,82
                mov edi,Offset Command_Line
                rep movsb
                pop ds


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Real_DS,Real_ES,Real_FS,Real_GS,Real_SS,Real_SP
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Ces variables contiennent les futures valeurs des diffrents segments lors d'un
appel en mode rel (Voir Le mode Rel).


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
_0b0000h, _0b8000h, _0a0000h
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Ces variables contiennent les diffrentes adresses 32 bits de la VRAM.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les Macros                                                               บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

L'E.O.S possde des macros qui permettent de simplifier la programmation.

ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Macro Colors
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

                colors Numro_de_couleur,Valeur_Rouge,Valeur_Verte,Valeur_bleu

        (Voir Synchronisation avec le balayage)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Macro Get_Param
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

                Get_Param Param_Buffer

                ...

                Param_Buffer db 128 dup (0)

        Renvoie dans Param_Buffer les paramtres de la ligne de commande.


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Macro Send
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

                Send Valeur_A_Afficher,X,Y

        (Voir Gestion d'un second cran monochrome)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Macro DosInt
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

                DosInt Numro_d_interruption

        (Voir Le mode rel)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Macro DosCall
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

                DosCall Adresse_Mode_rel

        (Voir Le mode rel)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Macro Init_es_di
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

                Init_es_di Offset adresse_32_bits

        (Voir Le mode rel)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Macro Init_ds_dx
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

                Init_ds_dx Offset adresse_32_bits

        (Voir Le mode rel)


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Le mode rel                                                             บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Le mode rel est accessible  partir de l'E.O.S  l'aide de quatre macros et
de six variables :

        DosInt          macro Int_Number
        DosCALL         macro _Seg_,_Ofs_
        Init_es_di      macro Adrs
        Init_ds_dx      macro Adrs

        Real_GS         :dword
        Real_FS         :dword
        Real_DS         :dword
        Real_ES         :dword
        Real_SS         :dword
        Real_SP         :dword

En mode protg, il n'y a plus de registres de segments mais des slecteurs.
Les variables Real_xx contiennent par consquent les valeurs des diffrents
segments lors d'un appel en mode rel. Si une interruption du DOS  besoin de
retourner un paramtre dans ES, celui-ci est retourn dans Real_ES. Real_ES
correspond donc au registre de segment ES du mode rel.


        Pour appeler une interruption (Int) du mode rel :

                DosInt Numro_d_interruption

        Exemple :

                mov ax,13h                  ; Mode 320x200 256 Couleurs
                DosInt 10h                  ; Appel de la fonction BIOS
                                            ; Set Video Mode

        Pour appeler une fonction (Call) en mode rel :

                DosCall Adresse_Mode_rel

        Exemple :

                XMS_Adresse dw 0,0

                mov ax,4300h                ; Fonction qui teste si un
                DosInt 2fh                  ; Driver XMS est prsent
                cmp al,80h
                je No_XMS_Driver
                mov ax,4310h                ; Si oui demande son point
                DosInt 2fh                  ; d'entr
                mov [XMS_Adresse],bx
                mov eax,[Real_ES]
                mov [XMS_Adresse+2],ax
                xor ah,ah                   ; Fonction 0 du driver XMS
                DosCall Dword Ptr [XMS_Adresse] ; Get XMS Version


        Pour initialiser les variables qui seront utilises en mode rel :

                Init_es_di Adresse_32bits
                Init_ds_dx Adresse_32bits

        Exemple :

                Vesa_Buffer db 256 dup (0)

                Init_es_di Vesa_Buffer
                mov ax,4f00h                ; Teste la prsence d'un
                DosInt 10h                  ; Driver VESA

                cmp dword ptr Vesa_Buffer,'ASEV'
                jne no_vesa


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les interruptions                                                        บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

L'E.O.S permet de modifier les interruptions grce aux fonctions Get_Int et
Set_Int.

        Exemple : Dtourner l'interruption 70h :

                mov ah,Get_Int              ; Lit L'ancien vecteur
                mov bx,70h
                Int_EOS
                mov [Old_Selector_Int_70h],cx
                mov [Old_Offset_Int_70h],edx
                mov ah,Set_Int
                mov bx,70h
                mov cx,[Code32_Sel]         ; Slecteur
                mov edx,O New_Int_70h       ; Offset de la nouvelle routine
                Int_EOS


L'E.O.S met aussi  la disposition du programmeur toute une srie de fonctions
accessibles via l'interruption 21h.


        Exemple : Afficher un message :

                Msg db 'Hello Word',13,10,36

                mov ah,9                    ; Fonction Display String
                mov edx,Offset Msg
                int 21h
                mov ax,4c00h
                int 21h

Attention ! Pour terminer un programme il faut IMPERATIVEMENT appeler la
            fonction 4ch de l'interruption 21h


Tous les appels  des interruptions  partir du mode protg sont
automatiquement transfrs en mode rel :

                xor ax,ax
                int 33h

                est quivalent  :

                xor ax,ax
                DosInt 33h


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les IRQ ou interruptions matrielles                                     บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Toutes les IRQs sont accessibles dans votre programme. Par contre L'E.O.S a
reprogamm ses interruptions pour viter des conflits avec les exceptions du
mode protg. Pour utiliser une IRQ l'E.O.S met deux fonctions  la
disposition du programmeur :

        Get_IRQ :

                Fonction qui renvoie l'adresse d'une IRQ.

        Set_IRQ :

                Fonction qui dtourne une IRQ.


        Exemple d'utilisation :

        Old_IRQ0 Label Fword
        Old_Offset_IRQ0    dd 0
        Old_Selector_IRQ0  dw 0

                mov ah,Get_IRQ
                mov bl,0            ; IRQ timer
                Int_EOS
                mov [Old_Selector_IRQ0],cx
                mov [Old_Offset_IRQ0],edx
                mov ah,Set_IRQ
                mov bl,0            ; IRQ timer
                mov cx,cs
                mov edx,Offset New_IRQ0
                Int_EOS
                ...

        New_IRQ0:
                ...
                jmp fword ptr cs:[Old_IRQ0]


Vous pouvez galement utiliser les fonctions du mode rel :

                mov ax,2508h        ; sets IRQ timer via Dos
                push cs
                pop ds
                mov edx,O New_IRQ0
                int 21h


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les Exceptions                                                           บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Diffrence entre une exception et une intrruption
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Une exception est une interruption qui a la falcult de se dclencher  l'
intrieur d'une instruction. Par exemple :

        mov ecx,-1
        rep movsb       ; Une interruption doit attendre la fin du rep movsb
                          pour tre prise en compte.


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
En cas de plantage
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Toutes les exceptions sont gres par l'E.O.S.

Lorsque l'une d'elle se dclenche, l'E.O.S arrte votre programme et restitue
automatiquement la mmoire alloue et le mode vido de dpart.


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ~v3.05
Comment dtourner une exception sous E.O.S.
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

L'E.O.S permet de modifier les exceptions grce aux fonctions Get_Exception et
Set_Exception.

Les exceptions sont gres comme en DPMI. Elles possdent une stucture en
entre et un retf en sortie (voir doc du DPMI).


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions pour grer les interruptions                               บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฟ
ณGet Intณ
ณSet Intณ
ณGet Irqณ
ณSet Irqณ
ภฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณGet_Int       Get protected mode interrupt vector                         ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Get_Int                                                      ณ
ณ        BX = Interrupt number                                             ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ    CX:EDX = Selector:Offset of interrupt                                 ณ
ณ                                                                          ณ
ณAutre Registre Modifie : Aucun                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Get_Int
            mov bx,10h
            Int_EOS
            mov [Old_Int_10_Selector],cx
            mov [Old_Int_10_Offset],edx


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSet_Int       Set protected mode interrupt vector                         ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Get_Int                                                      ณ
ณ        BX = Interrupt number                                             ณ
ณ    CX:EDX = Selector:Offset of interrupt                                 ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณAutre Registre Modifie : Aucun                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Set_Int
            mov bx,10h
            mov cx,cs
            mov edx,O New_Int_10
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณGet_Irq       Get protected mode irq vector                               ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Get_Irq                                                      ณ
ณ        BX = Irq number                                                   ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ    CX:EDX = Selector:Offset of irq                                       ณ
ณ                                                                          ณ
ณAutre Registre Modifie : Aucun                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Get_Irq
            mov bx,1h                               ; Keyboard
            Int_EOS
            mov [Old_Irq_01_Selector],cx
            mov [Old_Irq_01_Offset],edx


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSet_Irq       Set protected mode irq vector                               ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Get_Irq                                                      ณ
ณ        BX = Irq number                                                   ณ
ณ    CX:EDX = Selector:Offset of irq                                       ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณAutre Registre Modifie : Aucun                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Set_Irq
            mov bx,1h                               ; Keyboard
            mov cx,cs
            mov edx,O New_Irq_01
            Int_EOS


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป~v3.05
บ                                                                          บ
บ Les fonctions pour grer les exceptions                                  บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณGet Exceptionณ
ณSet Exceptionณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ~v3.05
ณGet_Exception Get protected mode exception vector                         ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Get_Exception                                                ณ
ณ        BX = Exception number                                             ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ    CX:EDX = Selector:Offset of exception                                 ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Get_Exception
            mov bx,10h
            Int_EOS
            mov [Old_Exception_10_Selector],cx
            mov [Old_Exception_10_Offset],edx


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ~v3.05
ณSet_Exception Set protected mode exception vector                         ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Get_Exception                                                ณ
ณ        BX = Exception number                                             ณ
ณ    CX:EDX = Selector:Offset of exception                                 ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Set_Exception
            mov bx,10h
            mov cx,cs
            mov edx,O New_Exception_10
            Int_EOS


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Le linker                                                                บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

L'E.O.S dispose d'un utilitaire (LLINK.EXE) qui permet de crer un seul
fichier excutable  partir de plusieurs fichiers de donnes.

        programme.exe
        image.pcx        ---->   final.exe
        musique.mod

Une fois link, les fichiers de donnes sont accessibles trs facilement 
l'aide de la fonction Load_internal_File.

        Exemple d'utilisation de Load_Internal_File et de Load_External_File :

                Fichier_Linker  db 'IMAGE.PIC',0
                Fichier_Externe db 'PRG.CFG',0

                mov ah,Load_Internal_File   ; Charge un fichier interne
                mov edx,O Fichier_Linker
                Int_EOS

                Pas d'erreurs possibles car elles sont gres par l'E.O.S.


                mov ah,Load_External_File   ; Charge un fichier externe
                mov edx,O Fichier_Externe
                Int_EOS
                jc Error_Loading

                Gestion des erreurs par l'utilisateur.


Pour indiquer  LLINK la liste des fichiers  linker il suffit de crer un
fichier de lien comme ci-dessous.

        Contenu d'un fichier de lien (prg.eos) :

                FINAL.EXE                   ; Nom de l'excutable  crer
                PRG.EXE                     ; Nom de l'excutable  linker
                IMAGE.PCX                   ; Fichier de donnes  linker
                MUSIQUE.MOD                 ; Fichier de donnes  linker
                :END                        ; Fin

        Linkage :

                LLINK prg.eos

Afin de faciliter la programmation, il est possible d'utiliser la fonction
Load_Internal_File avec des fichiers externes, ce qui permet de linker un
programme lorsqu'il est entirement termin (Voir Example4).


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Le Debugger 32 bits                                                      บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
DEBUG.OBJ
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Le debugger DEBUG.OBJ est un fichier objet externe qu'il vous suffit d'inclure
au moment du linkage :

        TLINK eos+mon_programme+debug /x /3


Pour l'appeler  partir de votre programme une fonction est mise  votre
disposition : DEBUG. Vous pouvez ainsi activer le debugger 
n'importe quel instant  l'aide d'un simple Call :

Exemple d'appel du debugger sous E.O.S.

        Locals
        .386
        CODE32 SEGMENT PUBLIC PARA USE32 'CODE'
        ASSUME  CS:CODE32,DS:CODE32,ES:CODE32

        INCLUDE ..\RESOURCE\EOS.INC

        Msg         db '     Hello world...',13,10,36

        Start32:

            call debug              ; Where you want !!! Alt-x to exit

            mov ah,9
            mov edx,O Msg
            int 21h                 ; Call Display String

            mov ax,4c00h
            int 21h                 ; Exit with Error Code 0

        CODE32 ENDS
        END


Exemple d'appel du debugger sous WATCOM

        void main()
        {
        init_eos(_psp);
        debug();
        printf("     Hello world...\x0D\x0A");
        exit(0);
        }


Les fonctions du debugger sont les suivantes :

Pause       Break      Permet d'appeler le debugger  tout instant
Alt-X       Exit       Permet de quitter le debugger  tout instant
F1          Mono       Le debugger passe sur l'cran monochrome
F2          Color      Le debugger passe sur l'cran couleur
F3          Nop        Permet de placer des instructions NOP dans la fentre de code
F4          Here       Permet d'aller  un point prcis du programme
F5          Dump ESI   Permet de positionner l'adresse de la fentre Dump avec DS:ESI
Ctrl F5     Lock ESI   L'adresse de la fentre Dump change automatiquement en fonction de DS:ESI
Alt-F5      UsrScr     Affiche l'cran vido du programme
F6          Dump EDI   Permet de positionner l'adresse de la fentre Dump avec ES:EDI
Ctrl F6     Lock EDI   L'adresse de la fentre Dump change automatiquement en fonction de ES:ESI
F7          Next       Pour tracer  l'intrieur des procdures
Alt-F7      Int        Pour tracer  l'intrieur des interruptions
F8          Trace      Pour tracer sans rentrer dans les procdures
F9          Run        Pour rendre la main au programme
F10         BreakPoint Pour placer un point d'arrt dans la fentre code
F11         Origin     Pour positionner la fentre code sur CS:EIP
F12         Help       Affiche un cran d'aide
Alt         Toggle     Remplace la fentre des registres par celle des slecteurs
Arrows      ScrollDump Scroll la fentre Code
Alt Arrows  ScrollCode Scroll la fentre Dump
Ctrl Arrows DecalCode  Dcalage du dsassemblage
Ctrl N      NewEIP     Permet de changer CS:EIP
Ctrl D      NewDump    Permet de changer l'adresse de la fentre Dump
Ctrl G      Goto       Permet d'aller  un point prcis du programme
Ctrl F      Fpu        Remplace la fntre Dump par les registres du co-processeur
Alt-B       Byte dump  Permet de changer l'affichage du dump en Byte                ~v3.06
Alt-W       Word dump  Permet de changer l'affichage du dump en Word                ~v3.06
Alt-D       Dword dump Permet de changer l'affichage du dump en Double Word         ~v3.06
Ctrl L      Log        Remplace la fntre Dump par la fentre LOG                  ~v3.06
TAB         Switch -   Passage  la fenetre suivante                                ~v3.06
Alt+TAB     Switch +   Passage  la fenetre precedente                              ~v3.06

In log window:

INSERT      Add LOG    Permet d'ajouter un nouveau LOG                              ~v3.06
DELETE      Del LOG    Permet de supprimer un LOG                                   ~v3.06
Arrows      SelectLOG  Permet de slectionner un LOG                                ~v3.06

In register window:

Arrows      Select     Permet de slectionner un registre                           ~v3.06
Enter       Change     Permet de modifier un registre                               ~v3.06
+           Inc        Incrementer un registre                                      ~v3.06
-           Dec        Dcremanter un registre                                      ~v3.06
Ctrl Z      RAZ        Remise  zero                                                ~v3.06

In NewDump Windows:

Valid syntax: 0xabcd                                                                ~v3.06
              abcd    (default)                                                     ~v3.06
              1234d                                                                 ~v3.06
              EAX+ECX*10+ESP                                                        ~v3.06


A chaque fois que le debugger rencontre une interruption de l'E.O.S, du DOS
ou du DPMI, celui indique en clair la fonction demande.


Exemple :
            mov ah,9h
            int 21              = Display String

            mov ax,300h
            int 31h             = Simulate Real Mode Interrupt

            mov ah,47h
            Int_EOS             = Physical Address Mapping


Un utilitaire est aussi fourni pour configurer le debugger : EDCONFIG.EXE.
Pour plus d'infos taper EDCONFIG -h


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
WDEBUG.EXE et UNBIND.EXE
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Vous pouvez aussi utiliser WDEBUG pour tracer des programmes au format LE.

Pour cela il faut extraire DOG4GW du programme EXE avec UNBIND.EXE :

  UNBIND fichier.EXE

Vous pouvez alors lancer le programme pour le debugger :

  WDEBUG fichier.LE

Pour appeler le debugger appuyez simplement sur la touche Pause.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions du Debuggeur 32 bits                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฟ
ณDebug      ณ
ณDebug Back ณ
ภฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDebug             Initialize and call the debugger                        ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            call debug


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDebug_Back        Initialize the debugger for Pause-key and Break_Point   ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            call debug_Back


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Appel du debugger par Break point                                        บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฟ
ณBreak Pointณ
ภฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณBreak_Point       call the debugger                                       ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            Break_Point


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป~v3.06
บ                                                                          บ
บ Dialogue avec le debugger                                                บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฟ
ณAdd Log    ณ~v3.06
ภฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ~v3.06
ณAdd Log    Add in the log windows a address or a expression to keep track ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       EAX = Type (_Log_Byte,..)                                          ณ
ณ       EBX = Address (_Address or _String)                                ณ
ณ       ECX = Offset to data or expression                                 ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :

            mov al,_Log_String      ; Define Data Type
            mov ebx,O Msg           ; Address of Data
            mov ecx,_Address        ; Define as Real Address
            call Add_Log            ; Add Log

            ...

            mov al,_Log_Dword       ; Define Data Type
            mov ebx,O DwordValue    ; Address of Data
            mov ecx,_Address        ; Define as Real Address
            call Add_Log            ; Add Log

            ...

            mov al,_Log_Byte_Array  ; Define Data Type
            mov ebx,O MathExpr      ; Address of Expression
            mov ecx,_String         ; Define as Mathematical Expression
            call Add_Log            ; Add Log

            ...

            call debug              ; Press Ctrl+L to see the Log in the Debugger
            ...

Msg         db '     Hello world...',13,10,36
DwordValue  dd 1024
MathExpr    db 'EAX+4*ECX+10',0


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Restitution automatique de l'environnement de dpart                     บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Vous n'tes pas oblig de librer la mmoire avant de quitter votre
programme.  A chaque fois qu'il rencontre la fonction 4c00h ou lors d'un
plantage programme, l'E.O.S restitue automatiquement l'environnement de
dpart :

                 Le mode vido y compris les modes VESA (132x60,etc...)
                 L'heure de l'horloge.
                 Les interruptions.
                 La mmoire alloue.
                 Stoppe la musique.


Il est galement possible de restituer  tout moment le mode vido de dpart...

                mov ah,Restore_Video_Mode
                Int_EOS


Pour les erreurs, l'E.O.S dispose d'une sortie spcialise qui permet d'afficher
un message d'erreur :

                mov ah,Exit_Error
                mov edx,Offset Error_Txt
                Int_EOS


Cette fonction est identique  :

                mov ah,9                    ; Fonction Display String
                mov edx,Offset Msg
                int 21h
                mov ax,4c01h
                int 21h


L'E.O.S vous permet galement d'crire directement en Ram vido et d'employer
des couleurs avec la fonction Direct_Send :

                lea edx,Message
                mov ah,Direct_Send
                Int_EOS

                ...

Message         db "    ",0,1," Color Blue ",0,4,"Red ",13,10,0,0



ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les Fonctions systme                                                    บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณExit Error                                                                ณ
ณRestore Video Mode                                                        ณ
ณDetect Windows                                                            ณ
ณDirect Send                                                               ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณExit Error   Restore initial Video mode , interrupts , free all reserved  ณ
ณ             memory ,stop music if played and exit (with error code 1)    ณ
ณ             with a error message                                         ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Exit_Error                                                   ณ
ณ    DS:EDX = Offset message to display                                    ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Exit_Error
            mov edx,Offset Error_Txt
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณRestore Video Mode   Restore the inital video which is be active at the   ณ
ณ                     start of the program                                 ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Restore_Video_Mode                                           ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Restore_Video_Mode
            Int_EOS


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect Windows       Detect If Windows is running                         ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Detect_Windows                                               ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        AL = Windows version                                              ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :

Windows_3x          = 3
Windows_95          = 4

            lea edx,Windows_Txt
            mov ah,Detect_Windows
            Int_EOS
            or al,al
            jnz Error

            ...

Windows_Txt         db "     Sorry, but this program can not run under Microsoft Windows (tm)",13,10,36


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDirect Send          Write a text directly to video ram . Color allowed   ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AH = Direct_Send                                                  ณ
ณ       EDX = Offset message to Display                                    ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณComand  : 0,0      = end                                                  ณ
ณ          0,1..255 = color                                                ณ
ณ          13       = first colonne                                        ณ
ณ          10       = next ligne                                           ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :

Direct_Send         = 0Eh
If Impossible
            lea edx,Message
            mov ah,Direct_Send
            Int_EOS

            ...

Message             db "    ",0,1," Color Blue ",0,4,"Red ",13,10,0,0


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Comment dvelopper une librairie compatible WATCOM C et E.O.S            บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Pour dvelopper une librairie  la fois compatible avec WATCOM et E.O.S, vous
devez crer deux fichiers objets diffrents comme ci-dessous :

                - <Nom>.obj    : VESA.OBJ   (E.O.S)
                - W<Nom>.obj   : WVESA.OBJ  (WATCOM)


Pour cela, vous pouvez gnrer une variable de compilation dans
votre fichier makefile, par exemple __Use_Watcom__ :

PRG  = VESA
RES  = ..\RESOURCE

$(PRG).exe:       $(PRG).obj
        @Echo $(PRG) Has Been Assembled

$(PRG).obj: $(PRG).asm
        @tasm $(PRG) $(RES)\$(PRG) /m /q /p /d__Use_Watcom__=0
        @tasm $(PRG) $(RES)\W$(PRG) /m /q /p /d__Use_Watcom__=1


A partir de cette variable vous pouvez ensuite grer deux codes
dans votre fichier source :

        If __Use_Watom__
          ...                   ; CODE Specifique  WATCON
          ...
        Else
          ...                   ; CODE Specifique  E.O.S
          ...
        EndIF


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Diffrences entre un programme E.O.S et WATCOM                           บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
La gestion mmoire sous WATCOM
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Sous WATCOM, la mmoire est de type FLAT et commence  l'adresse 0.
Sous E.O.S, la mmoire est dfinit selon l'endroit ou le programme  te
charg.


         Pour allouer de la memoire sous E.O.S :

                mov ah,Allocate_Memory_Handle
                mov edx,Taille
                Int_EOS
                mov [Adresse_Memoire],edx
                mov [Handle_Memoire],edi


         Pour allouer de la memoire sous WATCOM :

                mov ah,Allocate_Memory_Handle
                mov edx,Taille
                Int_EOS
                mov [Adresse_Memoire],eax
                mov [Handle_Memoire],edi


         Example pour utiliser les deux :

                mov ah,Allocate_Memory_Handle
                mov edx,Taille
                Int_EOS
        If __Use_Watom__
                mov [Adresse_Memoire],eax
        Else
                mov [Adresse_Memoire],edx
        Endif
                mov [Handle_Memoire],edi

         !!! Idem pour Load_Internal_file et Load_External_File !!!


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Les appels aux interruptions en mode REEL
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

         Sous E.O.S :

                Init_es_edi Buffer_Vesa
                mov ax,4f00h
                DosInt 10h


         Sous WATCOM :

               On ne peut pas adresser directement les variables ni mme
               utiliser les macros init_DS_DX, car le programme est charg
               au-dessus du premier Mega octets et le DOS ne peut atteindre
               ces variables.
               Il est donc conseill d'allouer de la mmoire avec la fonction
               48h de l'interruption 21h pour faire la passerelle avec le mode
               rel comme ci-dessous :

                xor eax,eax
                mov ah,48h
                mov bx,256/16
                int 21h
                mov edi,O DPMI_CALL
                mov W [edi.Real_mode_Call._EAX],4f00h
                mov [edi.Real_mode_Call._EDI],0h
                mov [edi.Real_mode_Call._ES],ax
                mov ax,300h
                mov bl,10h                      ; Int 10h
                xor cx,cx
                int 31h                         ; Simule une interruption

         La structure  utiliser pour les appels DPMI est la suivante :

                Real_mode_Call STRUC
                _EDI        dd ?
                _ESI        dd ?
                _EBP        dd ?
                            dd ?
                _EBX        dd ?
                _EDX        dd ?
                _ECX        dd ?
                _EAX        dd ?
                _flags      dw ?
                _ES         dw ?
                _DS         dw ?
                _FS         dw ?
                _GS         dw ?
                _IP         dw ?
                _CS         dw ?
                _SP         dw ?
                _SS         dw ?
                            ends

                DPMI_CALL   Real_mode_Call <>


         Pour faciliter la cration de programme il serait plus judicieux
         d'allouer de la mmoire grce aux fonctions DOS pour avoir trs
         peu de diffrence entre les codes sources

         Exemple :

           If __Use_Watcom__
                            mov edi,O DPMI_CALL
                            mov W [edi.Real_mode_Call._EAX],4800h
                            mov W [edi.Real_mode_Call._EBX],512/16
                            mov ax,300h
                            mov bl,10h
                            xor cx,cx
                            int 31h
                            jc  Error_vesa
                            mov edi,O DPMI_CALL
                            movzx eax,W [edi.Real_mode_Call._EAX]
           Else
                            xor eax,eax
                            mov ah,48h
                            mov bx,512/16
                            Dosint 21h
                            jnz Error_vesa
           Endif

@@cont:
            mov [Seg_Buffer_Vesa],eax
            shl eax,4
            sub eax,[Code32_Addr]
            mov [Addr_Buffer_Vesa],eax

           If __Use_Watcom__
                            mov edi,O DPMI_CALL
                            mov W [edi.Real_mode_Call._EAX],4f00h
                            mov [edi.Real_mode_Call._EDI],0h
                            mov eax,[Seg_Buffer_Vesa]
                            mov [edi.Real_mode_Call._ES],ax
                            mov ax,300h
                            mov bl,10h
                            xor cx,cx
                            int 31h
                            jc  Error_vesa
           Else
                            mov eax,[Seg_Buffer_Vesa]
                            mov [Real_ES],eax
                            xor edi,edi
                            mov ax,4f00h
                            DosInt 10h
                            cmp ax,004fh
                            jne Error_vesa
           Endif

            mov edi,[Addr_Buffer_Vesa]
            cmp D [edi],'ASEV'
            jnz Error_vesa


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Les variables inutilisables sous WATCOM
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

         Real_DS
         Real_ES
         Real_FS
         Real_GS
         Real_SS
         Real_SS

         pour les raisons indiques plus haut


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Diffrence entre les fichiers sources
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

      Sous E.O.S

         Dans un Programme E.O.S le dbut du programme doit obligatoirement
         s'appeler START32.


      Sous WATCOM

         Un programme peut commencer n'importe o, il suffit juste de prciser
         la fin du programme par la commande END <Label>.

         Il faut obligatoirement appeler la routine Init_EOS qui mule
         les variables de l'E.O.S le plus tt possible dans le programme.

         Le slecteur ES pointe sur le PSP du Programme.


     Exemple de programme WATCOM en assembleur :

        Locals
        .386
        CODE32 SEGMENT PUBLIC PARA USE32 'CODE'
        ASSUME  CS:CODE32,DS:CODE32,ES:CODE32

        INCLUDE ..\RESOURCE\EOS.INC

        Msg_Hello db 'Hello World ...',13,10,36

        .code

         Start32:
                mov ebx,es              ; These instruction must be first
                call Init_EOS           ; execute to enable all EOS function
                push ds                 ;
                pop es                  ;

                mov ah,9
                mov edx,O Msg_Hello
                int 21h
                mov ax,4c00h
                int 21h

        CODE32 ENDS
               END Start32


     Exemple de programme WATCOM en C :

        void main()
        {
                call Init_EOS(_psp);
                printf("     Hello world...\x0D\x0A");
                exit(0);
        }


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป~v3.05
บ                                                                          บ
บ A propos de Windows NT                                                   บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Certaines variables proposes par l'E.O.S taient incompatibles avec
Windows NT. Nous en avons donc ajouter de nouvelles.

                Dos/Windows95           WindowsNT

                PSP_Addr                PSP_Sel
                Environment_Addr        Environement_Sel
                Zero_Addr               Flat_Data_Sel


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les librairies de l'E.O.S                                                บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Contrairement aux fonctions de l'E.O.S, les appels aux fonctions des
librairies ne se font plus par l'interruption Int_EOS mais par de simple
Call.

Exemple :
            mov eax,Mode640x480x256
            call Init_Vesa
            jc Error_Vesa


Les fonctions disponibles sont les suivantes :


DEBUG.OBJ
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDebug                                                                     ณ
ณDebug Back                                                                ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

VESA.OBJ
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect Vesa Mode                                                          ณ~v3.06
ณInit Vesa                                                                 ณ
ณInit Vesa2                                                                ณ
ณInit Vesa Bank                                                            ณ
ณClose Vesa Bank                                                           ณ
ณSet Bank                                                                  ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

FLI32.OBJ
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad Fli                                                                  ณ
ณLoad Internal Fli                                                         ณ
ณDispose Fli                                                               ณ
ณFirst Frame Fli                                                           ณ
ณNext Frame Fli                                                            ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

SNAP.OBJ
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit Snap                                                                 ณ
ณSnap IFF                                                                  ณ
ณSave IFF                                                                  ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

JOYSTICK.OBJ
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit Joystick                                                             ณ
ณDectect Joystick                                                          ณ
ณAdd Joystick                                                              ณ
ณUpdate Joystick                                                           ณ
ณSub Joystick                                                              ณ
ณUpper Left                                                                ณ
ณLower Right                                                               ณ
ณCenter                                                                    ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

MEMORY.OBJ
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit Memory                                                               ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

RS232.OBJ
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSerial Open                                                               ณ
ณSerial Close                                                              ณ
ณSerial Read                                                               ณ
ณSerial Read Block                                                         ณ
ณSerial Write                                                              ณ
ณSerial Write Block                                                        ณ
ณSerial Clear Buffer                                                       ณ
ณSerial Status                                                             ณ
ณSerial Set Dtr                                                            ณ
ณSerial Reset Dtr                                                          ณ
ณSerial Set Rts                                                            ณ
ณSerial Reset Rts                                                          ณ
ณSerial Stand By                                                           ณ
ณSerial Buffer Full                                                        ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

CDROM.OBJ
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect CDROM                                                              ณ
ณOpen CDROM                                                                ณ
ณClose CDROM                                                               ณ
ณPlay Track                                                                ณ
ณStop CDROM                                                                ณ
ณResume CDROM                                                              ณ
ณGet Nb Tracks                                                             ณ
ณGet Track Info                                                            ณ
ณGet Current Track Info                                                    ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La librairie VESA                                                        บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Automatic Bank Switching en VESA 1.0 ou 2.0
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

La librairie VESA permet de ne pas se soucier de la commutation des
banks en VESA 1.0. On peut crire ou lire directement dans le buffer vido comme
ci-dessous :

Exemple :

            call Init_Vesa_Bank         ; Mise en place de la commutation
            jc Error_Sel                ; automatique des banks

            mov es,bx                   ; Positionnement de ES:EDI sur le
            xor edi,edi                 ; buffer vido

            mov esi,[Addr_Pic]          ; Positionnement de DE:ESI sur Addr_Pic

            xor edx,edx
            call Set_Bank               ; Slection du premier bank

            mov ecx,640*(480/4)
            rep movsd                   ; Commutation auto des autres banks


Explication :

En principe, pour accder  la totalit de la RAM vido, vous tes oblig de
commuter manuellement les banks :


            mov esi,Adresse_de_mon_image

            mov edx,0
            call set_bank
            mov ecx,64k
            mov edi,0
            rep movsd

            mov edx,1
            call set_bank
            mov ecx,64k
            mov edi,0
            rep movsd

            etc..

Cette manipulation est possible avec l'E.O.S et trs facile  raliser pour
une image. Par contre pour des sprites qui se dplacent  l'cran cela
devient trs vite plus difficile car le changement de bank peut survenir 
n'importe quel instant. A chaque pixel il faut donc faire un test ce qui
empche l'utilisation d'instruction comme rep movsd. Inutile de vous dire
que c'est aussi trs lent. Avec la commutation automatique de l'E.O.S,
il vous suffit d'indiquer le premier bank. Lorsqu'un changement de bank
doit avoir lieu, par exemple au milieu d'une instruction rep movsd l'E.O.S
commute le bank suivant et repositione le registre EDI et l'instruction
peut alors se poursuivre. Cette mthode est extrmement rapide et permet
de travailler linairement sans faire un seul test pour changer de bank.

Attention !

La valeur de EDI dans la routine suivante n'est pas gale
 65535+4 mais  00000+3.

            ...
            mov edi,65535
            stosd
            ...                 ; EDI = 3 !!!


Lorsque E.O.S change de bank, il change aussi la valeur de EDI :

            00000 Bank 1
            65535           ; edi=65535, bank= 1
            65536 Bank 2    ; edi=00000, bank= 2


Restrictions : En lecture, seul les instructions Lodsb, Lodsw et Lodsd
sont supportes.

Pour que le systme de commutation fonctionne correctement, il faut donc
respecter les quatres rgles suivantes :

            1 - Positionner manuellement le premier bank.
            2 - Ecrire dans le buffer vido de haut en bas.
            3 - Prendre en compte le fait que l'EOS peut modifier
                EDI ou ESI.
            4 - Utiliser uniquement Lodsb, Lodsw et Lodsd pour lire dans
                le buffer vido.


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Linear Frame Buffer en VESA 2.0
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

En VESA 2.0, l'E.O.S permet d'accder  un buffer linaire fictif qui
correspond directement  la mmoire de votre carte graphique. Lorsque vous
crivez dans ce buffer, l'information est instantanment crite dans la ram de
la carte vido par un systme de redirection d'adresse. Le buffer vido
fictif ne prend donc aucune place en mmoire RAM puisqu'il est l'image directe
de la mmoire vido.

Exemple :

            mov eax,Mode640x480x256 ; Init SVGA Mode
            mov ecx,640*480         ; Linear Buffer Size
            call Init_Vesa2
            jc Error_Vesa
            mov [Buffer],eax        ; Linear Buffer Address

            ...

            mov edi,[Buffer]
            mov ecx,(640/4)*480
            rep movsd


Cette mthode est beaucoup plus pratique que la commutation de
bank car les registres du processeur ne sont pas modifis. Malheureusement,
ce systme ncessite une carte vido trs rcente car le Linear Frame
Buffer est ralis en hard par celle-ci.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions de la librairie VESA                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect Vesa Modeณ~v3.06
ณInit Vesa       ณ
ณInit Vesa2      ณ
ณInit Vesa Bank  ณ
ณClose Vesa Bank ณ
ณSet Bank        ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect Vesa Mode   Detect if the video card support the request video modeณ~v3.06
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ      EAX = Screen Size X                                                 ณ
ณ      EBX = Screen Size Y                                                 ณ
ณ      ECX = Number of bits per pixel (8 15 16 24 32)                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ      EAX = Request Video mode                                            ณ
ณ                                                                          ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Mode Vesa not supported or Vesa driver not found             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov eax,640
            mov ebx,480
            mov ecx,8
            call Detect_Vesa_Mode
            jc Error_Vesa
            call Init_Vesa


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit Vesa   Initialize A Vesa 1.x or 2.0 to use automatic bank switching  ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        EAX = Vesa mode                                                   ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        EAX = VRAM address                                                ณ
ณ                                                                          ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Mode Vesa not supported or Vesa driver not found             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov eax,Mode640x480x256
            call Init_Vesa
            jc Error_Vesa

            ...

Vesa_Txt            db '     Mode SVGA not supported or VESA not found !',13,10
                    db '      To install a vesa driver, refer to your video card documentation.',13,10,36


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit Vesa2  Initialize A Vesa 2.0 to use linear frame buffer              ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        EAX = Vesa mode                                                   ณ
ณ        ECX = Video buffer size                                           ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        EAX = Linear buffer address                                       ณ
ณ                                                                          ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Mode Vesa not supported or Vesa driver not found             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov eax,Mode640x480x256
            mov ecx,640*480
            call Init_Vesa2
            jc Error_Vesa
            mov [Screen],eax

            ...

Vesa_Txt            db '     Mode SVGA not supported or VESA not found !',13,10
                    db '      To install a vesa driver, refer to your video card documentation.',13,10,36


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit Vesa Bank   Init the Automatic Bank Switching                        ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ       BX = New selector for addressing the video ram                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Can't allocate selector                                      ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            call Init_Vesa_Bank
            jc Error_Sel
            mov [screen_selector],bx


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณClose Vesa Bank  Close the Automatic Bank Switching                       ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            call Close_Vesa_Bank


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSet Bank         Select the first Bank                                    ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov edx,edi     ; EDI Address of first pixel to be display
            shr edx,16
            call Set_Bank
            and edi,0ffffh


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les variables de la librairie VESA                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณVesa Clear Palette   ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณVesa Clear Palette   Toggle clear palette on/off                          ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov vesa_clear_palette,off  ; Default = On
            call Init_Vesa_Bank
            jc Error_Sel
            mov [screen_selector],bx


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les dclarations de la librairie VESA                                    บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
VBE v1.0
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Mode640x400x256             = 100h
Mode640x480x256             = 101h
Mode800x600x16              = 102h
Mode800x600x256             = 103h
Mode1024x768x16             = 104h
Mode1024x768x256            = 105h
Mode1280x1024x16            = 106h
Mode1280x1024x256           = 107h
Mode80x60                   = 108h
Mode132x25                  = 109h
Mode132x43                  = 10ah
Mode132x60                  = 10bh
Mode132x60                  = 10ch


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
VBE v1.2+
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

Mode320x200x32k             = 10dh
Mode320x200x64k             = 10eh
Mode320x200x16M             = 10fh
Mode640x480x32k             = 110h
Mode640x480x64k             = 111h
Mode640x480x16M             = 112h
Mode800x600x32k             = 113h
Mode800x600x64k             = 114h
Mode800x600x16M             = 115h
Mode1024x768x32k            = 116h
Mode1024x768x64k            = 117h
Mode1024x768x16M            = 118h
Mode1280x1024x32k           = 119h
Mode1280x1024x64k           = 11ah
Mode1280x1024x16M           = 11bh


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La librairie FLI32                                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Cette librairie permet d'utiliser des fichiers 3D prcalcul au format FLI
ou FLC dans vos programmes.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions de la librairie FLI32                                      บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad Fli         ณ
ณLoad Internal Fliณ
ณFirst Frame Fli  ณ
ณNext Frame Fli   ณ
ณDispose Fli      ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณPlay a FLI/FLC files                                                      ณ
ณ                                                                          ณ
ณFunctions :                                                               ณ
ณ                                                                          ณ
ณ        Load_Fli          Load a FLI into the memory                      ณ
ณ                          Initialize if needed the track-disk mode        ณ
ณ                          Check the header                                ณ
ณ                                                                          ณ
ณ        Load_Internal_Fli Load a FLI which is link with LLINK             ณ
ณ                          Check the header                                ณ
ณ                                                                          ณ
ณ        First_Frame_Fli   Uncompress the first frame                      ณ
ณ                                                                          ณ
ณ        Next_Frame_Fli    Uncompress the next frame                       ณ
ณ                                                                          ณ
ณ        Dispose_Fli       Freeing memory                                  ณ
ณ                          Close File                                      ณ
ณ                                                                          ณ
ณInformation During playing :                                              ณ
ณ                                                                          ณ
ณ        Fli_Err       = 1 - Chunk not found                               ณ
ณ                        2 - Out of memory                                 ณ
ณ                        3 - File error                                    ณ
ณ                        4 - Bad FLC header                                ณ
ณ                        5 - Size max for FLC : 640x480                    ณ
ณ                                                                          ณ
ณ        Fli_Swap      = On - Track disk running -  not enough memory to   ณ
ณ                             load the file                                ณ
ณ                        Off- File has been loaded into memory             ณ
ณ                                                                          ณ
ณ        Fli_Svga      = On - Number of Lines >200                         ณ
ณ                                                                          ณ
ณ        Fli_Delay     = Fli speed                                         ณ
ณ                                                                          ณ
ณ        Fli_Last_Frame= On - Last frame (Mode No looping)                 ณ
ณ                                                                          ณ
ณ        Fli_Current_Frame = Current frame                                 ณ
ณ                                                                          ณ
ณCommands :                                                                ณ
ณ                                                                          ณ
ณ        Fli_Selector  = Screen selector                                   ณ
ณ                                                                          ณ
ณ        Fli_ReStart   = On - Restart at the begining of the animation     ณ
ณ                                                                          ณ
ณ        Fli_Loop      = On - Restart the FLI at the end (Defaults)        ณ
ณ                        Off- Stop at the end  (Mode No looping)           ณ
ณ                                                                          ณ
ณ        Fli_TrackDisk = On - Enable Track-Disk mode                       ณ
ณ                        Off- Track-Disk not use execpt when the FLI can't ณ
ณ                             be loaded into the memory                    ณ
ณ                                                                          ณ
ณ        Fli_Buffer    = Logical address of FLI buffer                     ณ
ณ                                                                          ณ
ณ        Fli_Ligne_Shl = 6 for  320 per line                               ณ
ณ                        7 for  640 per line                               ณ
ณ                                                                          ณ
ณ        Fli_Scr_X     = Number of pixels per line                         ณ
ณ        Fli_Scr_Y     = Number of lines                                   ณ
ณ                                                                          ณ
ณ        Fli_Decal_X   = Number of pixels per line                         ณ
ณ        Fli_Decal_Y   = Number of lines                                   ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
           mov edx, offset Fli_Path
         call Load_Fli
        jc Fli_Error

            cmp Fli_Svga,On
            je  @@Init_Svga
            jne @@Init_Vga

            ...

            mov Fli_Selector,[screen_selector]

            call First_Frame_Fli
            jc Fli_Error

@@again:
            mov ah,Wait_Vbl
            Int_EOS

            call Next_Frame_Fli
            jc Fli_Error

            cmp Key_Map[Escape],On
            jne @@again


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La librairie SNAP                                                        บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Cette librairie permet de raliser des hard-copy d'cran VESA au format IFF
 l'aide de la touche Arrt_dfil.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions de la librairie SNAP                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฟ
ณInit Snapณ
ณSnap IFF ณ
ณSave IFF ณ
ภฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit Snap   Initialize the screen grabber . (You can change the int 09    ณ
ณ            function Use_Int_09 after this Init                           ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ah,Use_Int_09
            mov bx,On
            Int_EOS

            call Init_Snap


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSnap IFF    Grab the current Screen from Video RAM                        ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            call Snap_IFF


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSave IFF    Save a buffer to IFF                                          ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AX = Screen Size X                                                ณ
ณ        BX = Screen Size Y                                                ณ
ณ       EDX = Offset of File Name                                          ณ
ณ       ESI = Address to save in IFF                                       ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ax,640
            mov bx,480
            mov edx,O File_Name
            mov esi,Buffer
            call Save_IFF


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La librairie JOYSTICK                                                    บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Cette librairie permet de grer des manettes de jeux.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions de la librairie JOYSTICK                                   บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit Joystick   ณ
ณDectect Joystickณ
ณAdd Joystick    ณ
ณUpdate Joystick ณ
ณSub Joystick    ณ
ณUpper Left      ณ
ณLower Right     ณ
ณCenter          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit_Joystick  Initialize all port                                        ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            call Init_Joystick


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect_Joystick  Find if an analogic joystick is plug in port 1 ,2 or Bothณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ       EAX = 1 A joystick is plugged in port 1                            ณ
ณ             2 A joystick is plugged in port 2                            ณ
ณ             3 2 joystick is plugged in port 1 and 2                      ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             No Joystick                                                  ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            call Detect_Joystick
            test eax,Analog_A
            je @@Ok1
            ...
@@Ok1:
            test eax,Analog_B
            je @@Ok3
            ...
@@Ok3:


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณAdd_Joystick   Add a new joystick to be used by the library               ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ        AX = Type Of joystick                                             ณ
ณ             Analog_A                                                     ณ
ณ             Analog_B                                                     ณ
ณ             Lpt_A                                                        ณ
ณ             Lpt_B                                                        ณ
ณ        BX = Address of port                                              ณ
ณ           = 1 Lpt1                                                       ณ
ณ           = 2 Lpt2                                                       ณ
ณ           = 3 Lpt3                                                       ณ
ณ           = 4 Lpt4                                                       ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ       ESI = Address of structure of joystick                             ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             No Joystick Available                                        ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov ax,Analog_A
            call Add_Joystick
            jc No_Joystick_Available


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณUpdate_Joystick  Must be called often to update all structure of all      ณ
ณ                 Joystick                                                 ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            call Update_Joystick


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSub_Joystick   Delete a Joystick created by Add_Joystick                  ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       ESI = Address of structure to be deleted                           ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Structure not found                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov esi,[Addr_Joy1]
            call Sub_Joystick
            jc Structure_Not_Found


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณUpper_Left     Take Value For Upper Left Joystick's Coordinates           ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       ESI = Address of structure                                         ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             No Fire Press                                                ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :

@@Loop:
            mov esi,[Addr_Joy1]
            call Upper_Left
            jc @@Loop


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLower_Right    Take Value For Lower Right Joystick's Coordinates          ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       ESI = Address of structure                                         ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             No Fire Press                                                ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :

@@Loop:
            mov esi,[Addr_Joy1]
            call Lower_Right
            jc @@Loop


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณCenter         Take Value For Center Joystick's Coordinates               ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       ESI = Address of structure                                         ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             No Fire Press                                                ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :

@@Loop:
            mov esi,[Addr_Joy1]
            call Center
            jc @@Loop


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les dclarations de la librairie JOYSTICK                                บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Analog_A        = 1h
Analog_B        = 2h
Lpt_A           = 10h
Lpt_B           = 20h

Lpt1            = 1h
Lpt2            = 2h
Lpt3            = 3h
Lpt4            = 4h

Joy             Struc
J_Type          dw 0
J_Addr          dw 0
J_Min_X         dw 0
J_Max_X         dw 0
J_Min_Y         dw 0
J_Max_Y         dw 0
J_Center_X      dw 0
J_Center_Y      dw 0
J_Left          db 0
J_Right         db 0
J_Up            db 0
J_Down          db 0
J_Fire1         db 0
J_Fire2         db 0
J_Fire3         db 0
J_Fire4         db 0
Joy             ends


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La librairie mmoire                                                     บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Cette librairie affiche la mmoire disponible en temps rel sur l'cran
monochrome.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions de la librairie mmoire                                    บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit Memoryณ
ภฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณInit_Memory    Turn the display memory on                                 ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            call Init_Memory


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La librairie RS232                                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Cette librairie permet de dialoguer  115200 bauds avec un cable NULL MODEM.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions de la librairie RS232                                      บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณSerial Open        ณ
ณSerial Close       ณ
ณSerial Read        ณ
ณSerial Read Block  ณ
ณSerial Write       ณ
ณSerial Write Block ณ
ณSerial Clear Bufferณ
ณSerial Status      ณ
ณSerial Set Dtr     ณ
ณSerial Reset Dtr   ณ
ณSerial Set Rts     ณ
ณSerial Reset Rts   ณ
ณSerial Stand By    ณ
ณSerial Buffer Full ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Open         This function sets the serial port up.               ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       EDX = base port address                                            ณ
ณ       EAX = speed                                                        ณ
ณ       ECX = config                                                       ณ
ณ       EDI = buffer size                                                  ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ       EAX = Circular buffer adrs                                         ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Not Enough Memory                                            ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            mov edx,COM_1
            mov eax,SER_BAUD_115200
            mov ecx,SER_PARITY_NONE
            or  ecx,SER_BITS_8
            or  ecx,SER_STOP_1
            mov edi,1024
            call Serial_Open
            jc @@not_enough_memory


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Close       This procedure closes the serial port.                ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            call Serial_Close


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Read        This procedure read a character in the circular bufferณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       al : char                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :

@@wait:
            cmp Serial_Stand_By,0
            je @@wait
            call Serial_Read


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Read_Block                                                        ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       EDI = Buffer adrs                                                  ณ
ณ       ECX = Nbs char to read                                             ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            mov ecx,10
            lea edi,[Buffer]
            call Serial_Read_Block


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Write       This procedure sends characters.                      ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       bl  = char to write                                                ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Error To Write                                               ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            mov bl,'a'
            call Serial_Write
            jc @@error


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Write_Block                                                       ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       ESI = Buffer adrs                                                  ณ
ณ       ECX = Nbs char to write                                            ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ        Carry = 0                                                         ณ
ณ             All Done                                                     ณ
ณ                                                                          ณ
ณ        Carry = 1                                                         ณ
ณ             Error To Write                                               ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            mov ecx,10
            lea esi,[Buffer_To_Send]
            call Serial_Write_Block
            jc @@error


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Clear_Buffer This procedure clears the circular buffer.           ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            call Serial_Clear_Buffer


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Status      This procedure displays the status of the modem.      ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       al = status                                                        ณ
ณ                                                                          ณ
ณ         7    6     5     4      3     2      1      0                    ณ
ณ     ฺฤฤฤฤฤยฤฤฤฤยฤฤฤฤฤยฤฤฤฤฤยฤฤฤฤฤฤยฤฤฤฤฤยฤฤฤฤฤฤยฤฤฤฤฤฤฟ                  ณ
ณ     ณ DCD ณ RI ณ DSR ณ CTS ณ dDCD ณ dRI ณ dDSR ณ dCTS ณ                  ณ
ณ     ภฤฤฤฤฤมฤฤฤฤมฤฤฤฤฤมฤฤฤฤฤมฤฤฤฤฤฤมฤฤฤฤฤมฤฤฤฤฤฤมฤฤฤฤฤฤู                  ณ
ณ                                                                          ณ
ณ     Bit 0 (dCTS): Change in CTS                                          ณ
ณ     Bit 1 (dDSR): Change in DSR                                          ณ
ณ     Bit 2 (dRI): Change in RI                                            ณ
ณ     Bit 3 (dDCD): Change in DCD                                          ณ
ณ     Bit 4 (CTS): Clear To Send. Modem sets this line indicating that     ณ
ณ             it is ready for data, after computer indicates that it       ณ
ณ             is ready for data with an RTS. It used to be a signal        ณ
ณ             that the local modem has connected with a remote modem       ณ
ณ             too, in the olden days.                                      ณ
ณ     Bit 5 (DSR): Data Set Ready. This is the completing signal in a      ณ
ณ             DTR-DSR pair. Computer sends DTR to modem, saying it         ณ
ณ             wants to connect with it. Modem sends DSR back to            ณ
ณ             computer, saying that connection has been established.       ณ
ณ     Bit 6 (RI): Ring Indicator. Indicates that there is remote modem     ณ
ณ             attempting to call your local modem.                         ณ
ณ     Bit 7 (DCD): Data Carrier Detect. Indicates that the remote          ณ
ณ             modem has established connection with local modem.           ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            call Serial_Status


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Set_Dtr     sets the DTR bit to 1                                 ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            call Serial_Set_Dtr


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Reset_Dtr   sets the DTR bit to 0                                 ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            call Serial_Reset_Dtr


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Set_Rts     sets the RTS bit to 1                                 ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            call Serial_Set_Rts


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณ Serial_Reset_Rts   sets the RTS bit to 0                                 ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
            call Serial_Reset_Rts


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les dclarations de la librairie RS232                                   บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

COM_1               =       3F8h    ; base port address of port 0
COM_2               =       2F8h    ; base port address of port 1

SER_BAUD_300        =       384     ;    300 bauds
SER_BAUD_1200       =       96      ;   1200 bauds
SER_BAUD_2400       =       48      ;   2400 bauds
SER_BAUD_4800       =       24      ;   4800 bauds
SER_BAUD_9600       =       12      ;   9600 bauds
SER_BAUD_14400      =       8       ;  14400 bauds
SER_BAUD_19200      =       6       ;  19200 bauds
SER_BAUD_28800      =       4       ;  28800 bauds
SER_BAUD_38400      =       3       ;  38400 bauds
SER_BAUD_57600      =       2       ;  57600 bauds
SER_BAUD_115200     =       1       ; 115200 bauds

SER_STOP_1          =       0       ; 1 stop bit per character
SER_STOP_2          =       4       ; 2 stop bits per character

SER_BITS_5          =       0       ; send 5 bit characters
SER_BITS_6          =       1       ; send 6 bit characters
SER_BITS_7          =       2       ; send 7 bit characters
SER_BITS_8          =       3       ; send 8 bit characters

SER_PARITY_NONE     =       0       ; no parity
SER_PARITY_ODD      =       8       ; odd parity
SER_PARITY_EVEN     =       24      ; even parity


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La librairie CDROM                                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Cette librairie permet de jouer des Cd audio.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions de la librairie CDROM                                      บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect CDROM          ณ
ณOpen CDROM            ณ
ณClose CDROM           ณ
ณPlay Track            ณ
ณStop CDROM            ณ
ณResume CDROM          ณ
ณGet Nb Tracks         ณ
ณGet Track Info        ณ
ณGet Current Track Infoณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณDetect CDROM  Detect is a cdrom is connected to the system using the      ณ
ณ              MSCDEX functions                                            ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = 0                                                            ณ
ณ        BX = Number of CDROM present                                      ณ
ณ        CX = Drive of the First CDROM                                     ณ
ณ        DX = MSCDEX version                                               ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 No CDROM detected                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
                call Detect_CDROM
                jc Error


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณOpen CDROM   Open the CDROM door                                          ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = 0                                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 Error on command                                           ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
                call Open_CDROM
                jc Error


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณClose CDROM   Close the CDROM door                                        ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = 0                                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 Error on command                                           ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
                call Close_CDROM
                jc Error


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณPlay Track    Play a track from the CDROM                                 ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณ       EAX = Track number                                                 ณ
ณ       EBX = 0 this track only                                            ณ
ณ             1 all tracks follow                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = 0                                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 Error on playing                                           ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
                mov eax,1       ; play all
                mov ebx,1
                call Play_Track
                jc Error


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณStop CDROM stop the music from the CDROM                                  ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = 0                                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 Error on command                                           ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
                call Stop_CDROM
                jc Error


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณResume CDROM  Resume the music from the CDROM                             ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = 0                                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 Error on command                                           ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
                call Resume_CDROM
                jc Error


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณGet Nb Tracks Get the number of Tracks in the CDROM                       ณ
ณ              (Will also reload all the database all track a bit slow)    ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = 0                                                            ณ
ณ       EBX = Number of Track                                              ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 Error on command                                           ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
                call Get_Nb_Track
                jc Error
                mov Nb_Track,ebx


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณGet Track Info  Get the Track info on the CDROM                           ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       EAX = Track number                                                 ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = 0                                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 Error on command                                           ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
                mov eax,1       ; first track
                call Get_Track_Info
                jc Error


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณGet Current Track Info  Get the current Track info on the CDROM           ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = 0                                                            ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ       EAX = 1 Error on command                                           ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Example :
                call Get_Current_Track_Info
                jc Error
                lea esi,Track_Info
                mov al,[esi._Track_Info._track] ; current track



ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Comment accder aux diffrentes variables du CDROM                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

_Track_Info Struc
_adr        db 0
_track      db 0
_index      db 0
_min        db 0
_sec        db 0
_frame      db 0
_zero       db 0
_amin       db 0
_asec       db 0
_aframe     db 0
            ends

Track_Info      : _Track_Info
Track_Nbs       : dword
First_CDROM     : word
Number_CDROM    : word
Version_MSCDEX  : word



ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les librairies des utilisateurs de L'E.O.S                               บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Les fonctions disponibles sont les suivantes :

WC_FONT de Thomas Mangin
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณPrint Screen Size                                                         ณ
ณPrint Vesa Version                                                        ณ
ณPrint Vesa Memory                                                         ณ
ณPrint Goto X                                                              ณ
ณPrint Goto Y                                                              ณ
ณPrint Goto XY                                                             ณ
ณPrint Color                                                               ณ
ณPrint Char                                                                ณ
ณPrint Text                                                                ณ
ณPrint Hex                                                                 ณ
ณPrint Dec                                                                 ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

GIF.OBJ de Thomas Bernard
ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad External Gif Handle                                                  ณ
ณLoad Internal Gif Handle                                                  ณ
ณGif Handle                                                                ณ
ณGif Y                                                                     ณ
ณGif X                                                                     ณ
ณGif Palette                                                               ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป~v3.05
บ                                                                          บ
บ La librairie USM de Freddy Vtl                                        บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Cette librairie permet de jouer des modules de format MOD XM & STM sur les
cartes sons Sound Blaster & Gravis Ultrasound.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป~v3.05
บ                                                                          บ
บ Les fonctions de la librairie USM de Freddy Vtl                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Pour plus d'informations a propos de cette librairie, consultez la
documentation contenu dans le repertoire EX_USM.

La version prsente dans cette version contient une version allege de USM.
Pour obtenir la version complte lisez le fichier USMPE.DOC.



ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La librairie FONT de Thomas Mangin                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณprint_screen_size : set the screen size. Needed before any 'drawing' call ณ
ณprint_vesa_version: to allow me to do a bank switch in vesa 1.0           ณ
ณprint_vesa_memory : set the vesa memory for vesa 2.0 only                 ณ
ณprint_goto_x      : change the 'cursor' position                          ณ
ณprint_goto_y                                                              ณ
ณprint_goto_xy                                                             ณ
ณprint_color       : change the text color                                 ณ
ณprint_char        : print a char at setted position and goto next positionณ
ณprint_text        : print a ASCIIZ string                                 ณ
ณprint_hex         : print a number in hexa with minimum x character       ณ
ณprint_dec         : print a number in hexa with minimum x character       ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ La librairie GIF de Thomas Bernard                                       บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Cette librairie permet de charger un fichier compress au format GIF.


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions de la librairie GIF de Thomas Bernard                      บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad External Gif Handleณ
ณLoad Internal Gif Handleณ
ณGif Handle              ณ
ณGif Y                   ณ
ณGif X                   ณ
ณGif Palette             ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad External Gif Handle   Load and uncompress an external GIF file.      ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       EDX = Offset of file name                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       Carry = 0                                                          ณ
ณ        All done                                                          ณ
ณ       EAX = Logical (tasm) or physical (watcom) address of buffer        ณ
ณ       EDI = Handle of Memory                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณ       Carry = 1                                                          ณ
ณ        Error                                                             ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov edx,O File_name
            Call Load_External_Gif_Handle
            jc Error_File
            mov [File_Buffer],eax
            mov [Handle_Memory],edi


ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
ณLoad Internal Gif Handle   Load and uncompress an internal GIF file.      ณ
ณ                                                                          ณ
ณIn :                                                                      ณ
ณ       EDX = Offset of file name                                          ณ
ณ                                                                          ณ
ณOut :                                                                     ณ
ณ       EAX = Logical (tasm) or physical (watcom) address of buffer        ณ
ณ       EDI = Handle of Memory                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ณOther Registers Change : None                                             ณ
ณ                                                                          ณ
ณ                                                                          ณ
ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู

Exemple :
            mov edx,O File_name
            Call Load_Internal_Gif_Handle
            mov [File_Buffer],eax
            mov [Handle_Memory],edi


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions du DPMI (interruption 31h) supportes par l'E.O.S          บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Les fonctions DPMI suivantes ne sont disponibles que pour les personnes qui
utilisent les versions WEOS.EXE, WEOSLITE.EXE ou WDEBUG.EXE. C'est  dire
les programmeurs Watcom (C++ ou Assembleur).

Function 0000h - Allocate LDT Descriptors
Function 0001h - Free LDT Descriptor
Function 0002h - Segment to Descriptor
Function 0003h - Get Next Selector Increment Value
Function 0006h - Get Segment Base Address
Function 0007h - Set Segment Base Address
Function 0008h - Set Segment Limit
Function 0009h - Set Descriptor Access Rights
Function 000Ah - Create Code Segment Alias Descriptor
Function 000Bh - Get Descriptor
Function 000Ch - Set Descriptor
Function 0100h - Allocate DOS Memory Block
Function 0101h - Free DOS Memory Block
Function 0102h - Resize DOS Memory Block
Function 0200h - Get Real Mode Interrupt Vector
Function 0201h - Set Real Mode Interrupt Vector
Function 0202h - Get Processor Exception Handler Vector
Function 0203h - Set Processor Exception Handler Vector
Function 0204h - Get Protected Mode Interrupt Vector
Function 0205h - Set Protected Mode Interrupt Vector
Function 0300h - Simulate Real Mode Interrupt
Function 0301h - Call Real Mode Procedure With Far Return Frame
Function 0302h - Call Real Mode Procedure With Iret Frame
Function 0400h - Get Version
Function 0500h - Get Free Memory Information
Function 0501h - Allocate Memory Block
Function 0502h - Free Memory Block
Function 0503h - Resize Memory Block
Function 0800h - Physical Address Mapping
Function 0900h - Get and Disable Virtual Interrupt State
Function 0901h - Get and Enable Virtual Interrupt State
Function 0902h - Get Virtual Interrupt State


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0000h - Allocate LDT Descriptors
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0000h
        CX = Number of descriptors to allocate

Out:

       Carry = 0 if successful
        AX = Base selector


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0001h - Free LDT Descriptor
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0001h
        BX = Selector to free

Out:

       Carry = 0 if successful


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0002h - Segment to Descriptor
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0002h
        BX = Real mode segment address

Out:
       Carry = 0 if successful
        AX = Selector mapped to real mode segment


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0003h - Get Next Selector Increment Value
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0003h

Out:

       Carry = 0
        AX = Value to add to get to next selector


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0006h - Get Segment Base Address
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0006h
        BX = Selector

Out:

       Carry = 0 if successful
        CX:DX = 32-bit linear base address of segment


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0007h - Set Segment Base Address
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0007h
        BX = Selector
        CX:DX = 32-bit linear base address for segment

Out:

       Carry = 0 if successful


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0008h - Set Segment Limit
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0008h
        BX = Selector
        CX:DX = 32-bit segment limit

Out:
       Carry = 0 if successful


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0009h - Set Descriptor Access Rights
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0009h
        BX = Selector
        CX = rights/type word


Out:
       Carry = 0 if successful

Notes:
    The access rights/type word passed to the function in CX has
    the following format :

    Bit: 15  14  13  12  11  10   9   8   7   6   5   4   3   2   1   0
       ฺฤฤฤยฤฤฤยฤฤฤยฤฤฤยฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤยฤฤฤยฤฤฤฤฤฤฤยฤฤฤยฤฤฤยฤฤฤยฤฤฤยฤฤฤฟ
       ณ G ณB/Dณ 0 ณ 0 ณ       0       ณ 1 ณ  DPL  ณ 1 ณC/DณE/CณW/Rณ A ณ
       ภฤฤฤมฤฤฤมฤฤฤมฤฤฤมฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤมฤฤฤมฤฤฤฤฤฤฤมฤฤฤมฤฤฤมฤฤฤมฤฤฤมฤฤฤู

    G  h - 0=byte granular, 1=page granular
    B/Dh - 0=default 16bit, 1=default 32bit
    DPLh - must be equal to caller's CPL
    C/Dh - 0=data, 1=code
    E/Ch - data: 0=expand-up, 1=expand-down
          code: must be 0 (non-conforming)
    W/Rh - data: 0=read, 1=read/write
          code: must be 1 (readable)
    A  h - 0=not accessed, 1=accessed


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 000Ah - Create Code Segment Alias Descriptor
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 000Ah
        BX = Code segment selector

Out:
       Carry = 0 if successful
        AX = New data selector


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 000Bh - Get Descriptor
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 000Bh
        BX = Selector
        ES:EDI = Pointer to an 8 byte buffer to receive copy of descriptor

Out:
       Carry = 0 if successful
        ES:EDI = Pointer to buffer that contains descriptor


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 000Ch - Set Descriptor
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 000Ch
        BX = Selector
        ES:EDI = Pointer to an 8 byte buffer that contains descriptor

Out:
       Carry = 0 if successful


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0100h - Allocate DOS Memory Block
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0100h
        BX = Number of paragraphs (16 byte blocks) desired

Out:

       Carry = 0 if successful
        AX = Initial real mode segment of allocated block
        DX = Selector for allocated block

       Carry = 1 if error
        AX = DOS error code:
             07h memory control blocks damaged
             08h insufficient memory available to allocate as requested
        BX = Size of largest available block in paragraphs


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0101h - Free DOS Memory Block
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0101h
        DX = Selector of block to free

Out:

       Carry = 0 if successful

       Carry = 1 if error
        AX = DOS error code:
             07h memory control blocks damaged
             09h incorrect memory segment specified


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0102h - Resize DOS Memory Block
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0102h
        BX = New block size in paragraphs
        DX = Selector of block to modify

Out:

       Carry = 0 if successful

       Carry = 1 if error
        AX = DOS error code:
             07h memory control blocks damaged
             08h insufficient memory  available to allocate as requested
             09h incorrect memory segment specified
        BX = Maximum block size possible in paragraphs


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0200h - Get Real Mode Interrupt Vector
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0200h
        BL = Interrupt number

Out:
       Carry = 0 if successful
        CX:DX = Segment:Offset of real mode interrupt handler


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0201h - Set Real Mode Interrupt Vector
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0201h
        BL = Interrupt number
        CX:DX = Segment:Offset of real mode interrupt handler

Out:
       Carry = 0 if successful


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0202h - Get Processor Exception Handler Vector
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0202h
        BL = Exception/fault number (00h-1Fh)

Out:

       Carry = 0 if successful
        CX:EDX = Selector:Offset of exception handler


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0203h - Set Processor Exception Handler Vector
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ


In:

        AX = 0203h
        BL = Exception/fault number (00h-1Fh)
        CX:EDX = Selector:Offset of exception handler

Out:
       Carry = 0 if successful


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0204h - Get Protected Mode Interrupt Vector
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0204h
        BL = Interrupt number

Out:
       Carry = 0
        CX:EDX = Selector:Offset of exception handler


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0205h - Set Protected Mode Interrupt Vector
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0205h
        BL = Interrupt number
        CX:EDX = Selector:Offset of exception handler

Out:

       Carry = 0 if successful


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0300h - Simulate Real Mode Interrupt
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0300h
        BL = Interrupt number
        BH = 0
        CX = Number of words to copy from protected mode to real mode stack
        ES:EDI = Selector:Offset of real mode call structure

Out:

       Carry = 0 if successful
        ES:EDI = Selector:Offset of modified real mode call structure
                 in the folling format:
                Offset  Length  Contents
                00h     4       EDI
                04h     4       ESI
                08h     4       EBP
                0ch     4       reserved, should be zero
                10h     4       EBX
                14h     4       EDX
                18h     4       ECX
                1ch     4       EAX
                20h     2       CPU status flags
                22h     2       ES
                24h     2       DS
                26h     2       FS
                28h     2       GS
                2ah     2       IP (reserved, ignored)
                2ch     2       CS (reserved, ignored)
                2eh     2       SP
                30h     2       SS


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0301h - Call Real Mode Procedure With Far Return Frame
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0301h
        BH = 0
        CX = Number of words to copy from protected mode to real mode stack
        ES:EDI = Selector:Offset of real mode call structure

Out:

       Carry = 0 if successful
        ES:EDI = Selector:Offset of  modified real mode call structure
                 in the folling format:
                Offset  Length  Contents
                00h     4       EDI
                04h     4       ESI
                08h     4       EBP
                0ch     4       reserved, ingored
                10h     4       EBX
                14h     4       EDX
                18h     4       ECX
                1ch     4       EAX
                20h     2       CPU status flags
                22h     2       ES
                24h     2       DS
                26h     2       FS
                28h     2       GS
                2ah     2       IP
                2ch     2       CS
                2eh     2       SP
                30h     2       SS


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0302h - Call Real Mode Procedure With Iret Frame
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0302h
        BH = 0
        CX = Number of words to copy from protected mode to real mode stack
        ES:EDI = Selector:Offset of real mode call structure

Out:

       Carry = 0 if successful
        ES:EDI = Selector:Offset of modified real mode call structure
                Offset  Length  Contents
                00h     4       EDI
                04h     4       ESI
                08h     4       EBP
                0ch     4       reserved, ingored
                10h     4       EBX
                14h     4       EDX
                18h     4       ECX
                1ch     4       EAX
                20h     2       CPU status flags
                22h     2       ES
                24h     2       DS
                26h     2       FS
                28h     2       GS
                2ah     2       IP
                2ch     2       CS
                2eh     2       SP
                30h     2       SS


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0400h - Get Version
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0400h

Out:

        AH = Major version
        AL = Minor version
        BX = Flags
        CL = Processor type
             02 = 80286
             03 = 80386
             04 = 80486
        DH = Current value of virtual master PIC base interrupt
        DL = Current value of virtual slave PIC base interrupt
       Carry = 0


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0500h - Get Free Memory Information
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0500h
        ES:EDI = Selector:Offset of 30h byte buffer

Out:

       Carry = 0 if successful
        ES:EDI = Selector:Offset of buffer with the following structure


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0501h - Allocate Memory Block
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0501h
        BX:CX = Size of memory block to allocate in bytes

Out:

       Carry = 0 if successful
        BX:CX = Linear address of allocated memory block
        SI:DI = Memory block handle (used to resize and free)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0502h - Free Memory Block
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0502h
        SI:DI = Handle of memory block to free

Out:

       Carry = 0 if successful


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0503h - Resize Memory Block
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ


In:

        AX = 0503h
        BX:CX = New size of memory block to allocate in bytes
        SI:DI = Handle of memory block to resize

Out:

       Carry = 0 if successful
        BX:CX = New linear address of memory block
        SI:DI = New handle of memory block


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0800h - Physical Address Mapping
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0800h
        BX:CX = Physical address of memory
        SI:DI = Size of region to map in bytes

Out:

       Carry = 0 if successful
        BX:CX =  Linear address  that can be used to access the physical memory


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0900h - Get and Disable Virtual Interrupt State
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0900h

Out:

       Carry = 0
        AL = 0 if virtual interrupts were previously disabled
        AL = 1 if virtual interrupts were previously enabled


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0901h - Get and Enable Virtual Interrupt State
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0901h

Out:

       Carry = 0
        AL = 0 if virtual interrupts were previously disabled
        AL = 1 if virtual interrupts were previously enabled


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 0902h - Get Virtual Interrupt State
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:

        AX = 0902h

Out:
       Carry = 0
        AL = 0 if virtual interrupts are disabled
        AL = 1 if virtual interrupts are enabled


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Les fonctions du DOS (interruption 21h) supportes par l'E.O.S           บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

Function  1h - Keyboard Input with Echo
Function  2h - Display Output
Function  3h - Wait for Auxiliary Device Input
Function  4h - Auxiliary Output
Function  5h - Printer Output
Function  6h - Direct Console I/O
Function  7h - Direct Console Input Without Echo
Function  8h - Console Input Without Echo
Function  9h - Print String
Function  Ah - Buffered Keyboard Input
Function  Bh - Check Standard Input Status
Function  Ch - Clear Keyboard Buffer and Invoke Keyboard Function
Function  Dh - Disk Reset
Function  Eh - Select Disk
Function  Fh - Open a File Using FCB
Function 10h - Close a File Using FCB
Function 11h - Search for First Entry Using FCB
Function 12h - Search for Next Entry Using FCB
Function 13h - Delete File Using FCB
Function 14h - Sequential Read Using FCB
Function 15h - Sequential Write Using FCB
Function 16h - Create a File Using FCB
Function 17h - Rename a File Using FCB
Function 19h - Get Current Default Drive
Function 1Ah - Set Disk Transfer Address (DTA)
Function 21h - Random Read Using FCB
Function 22h - Random Write Using FCB
Function 23h - Get File Size Using FCB
Function 24h - Set Relative Record Field in FCB
Function 25h - Set Interrupt Vector
Function 27h - Random Block Read Using FCB
Function 28h - Random Block Write Using FCB
Function 2Ah - Get Date
Function 2Bh - Set Date
Function 2Ch - Get Time
Function 2Dh - Set Time
Function 2Eh - Set/Reset Verify Switch
Function 2Fh - Get Disk Transfer Address (DTA)
Function 30h - Get DOS Version Number
Function 33h - Get/Set System Values (Ctl-Break/Boot Drive)
Function 34h - Get Address to DOS Critical Flag
Function 35h - Get Interrupt Vector
Function 36h - Get Disk Free Space
Function 37h - Get/Set Switch Character
Function 39h - Create Subdirectory
Function 3Ah - Remove Subdirectory
Function 3Bh - Change Current Directory
Function 3Ch - Create File Using Handle
Function 3Dh - Open File Using Handle
Function 3Eh - Close File Using Handle
Function 3Fh - Read From File or Device Using Handle
Function 40h - Write To File or Device Using Handle
Function 41h - Delete File
Function 42h - Move File Pointer Using Handle
Function 43h - Get/Set File Attributes
Function 45h - Duplicate File Handle
Function 46h - Force Duplicate File Handle
Function 47h - Get Current Directory
Function 48h - Allocate Memory
Function 49h - Free Allocated Memory
Function 4Ah - Modify Allocated Memory Block  (SETBLOCK)
Function 4Bh - Load and Execute Program
Function 4Ch - Terminate Process With Return Code
Function 4Dh - Get Return Code of Sub-process
Function 4Eh - Find First Matching File
Function 4Fh - Find Next Matching File
Function 54h - Get Verify Setting
Function 56h - Rename File
Function 58h - Get/Set Memory Allocation Strategy
Function 59h - Get Extended Error Information
Function 5Ah - Create Temporary File
Function 5Bh - Create File
Function 60h - Get Fully Qualified File Name
Function 62h - Get PSP Address                                           ~v3.05


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 1h - Keyboard Input with Echo
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 01
Out:
	AL = character from standard input device


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 2h - Display Output
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 02
	DL = character to output
Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 3h - Wait for Auxiliary Device Input
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 03
Out:
	AL = character from the auxiliary device


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 4h - Auxiliary Output
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 04
	DL = character to output
Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 5h - Printer Output
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 05
	DL = character to output
Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 6h - Direct Console I/O
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 06
	DL = (0-FE) character to output
	   = FF if console input request
Out:
	AL = input character if console input request (DL=FF)
	ZF = 0	if console request character available (in AL)
	   = 1	if no character is ready, and function request
	     was console input


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 7h - Direct Console Input Without Echo
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 07
Out:
	AL = character from STDIN


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 8h - Console Input Without Echo
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 08
Out:
	AL = character from STDIN


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 9h - Print String
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 09
        DS:EDX = pointer to string ending in "$"
Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function Ah - Buffered Keyboard Input
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 0A
        DS:EDX = pointer to input buffer
Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function Bh - Check Standard Input Status
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 0B
Out:
	AL = 00 if no character available
	   = FF if character available


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function Ch - Clear Keyboard Buffer and Invoke Keyboard Function
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 0C
	AL = 01, 06, 07, 08 or 0A   (INT 21 input functions)
Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function Dh - Disk Reset
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 0D
Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function Eh - Select Disk
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 0E
        DL = zero based, drive number (0-25, A:h - Z:)
Out:
	AL = one based, total number of logical drives including
	     hardfiles (1-26)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function Fh - Open a File Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 0F
        DS:EDX = pointer to unopened FCB

Out:
	AL = 00 if file opened
	   = FF if unable to open


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 10h - Close a File Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 10h
        DS:EDX = pointer to opened FCB
Out:
	AL = 00  if file closed
	   = FF  if file not closed


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 11h - Search for First Entry Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 11h
        DS:EDX = pointer to unopened FCB
Out:
	AL = 00 if matching file found
	   = FF if file not found


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 12h - Search for Next Entry Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 12h
        DS:EDX = pointer to unopened FCB
Out:
	AL = 00 if file found
	   = FF if file not found


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 13h - Delete File Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 13h
        DS:EDX = pointer to an unopened FCB
Out:
	AL = 00 if file deleted
	   = FF if file not found


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 14h - Sequential Read Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 14h
        DS:EDX = pointer to an opened FCB
Out:
	AL = 00 if successful read
	   = 01 if end of file (no data read)
           = 02 if DTA is too small
	   = 03 if end of file or partial record read


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 15h - Sequential Write Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 15h
        DS:EDX = pointer to an opened FCB

Out:
	AL = 00 if write was successful
	   = 01 if diskette is full or read only
           = 02 if DTA is too small


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 16h - Create a File Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ


In:
	AH = 16h
        DS:EDX = pointer to an unopened FCB
Out:
	AL = 00 if file created
	   = FF if file creation failed


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 17h - Rename a File Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 17h
        DS:EDX = pointer to a modified FCB
Out:
	AL = 00 if file renamed
	   = FF if file not renamed


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 19h - Get Current Default Drive
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 19h
Out:
	AL = current default drive (0=A,1=B,etc)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 1Ah - Set Disk Transfer Address (DTA)
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 1A
        DS:EDX = pointer to DTA
Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 21h - Random Read Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 21h
        DS:EDX = pointer to an opened FCB
Out:
	AL = 00 if read successful
	   = 01 if EOF (no data read)
           = 02 if DTA is too small
	   = 03 if EOF (partial record read)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 22h - Random Write Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ


In:
	AH = 22h
        DS:EDX = far pointer to an opened FCB

Out:
	AL = 00 if write successful
	   = 01 if diskette full or read only
           = 02 if DTA is too small


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 23h - Get File Size Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 23h
        DS:EDX = pointer to an unopened FCB
Out:
	AL = 00 if successful
	   = FF if file not found


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 24h - Set Relative Record Field in FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 24h
        DS:EDX = pointer to an opened FCB

Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 25h - Set Interrupt Vector
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 25h
	AL = interrupt number
        DS:EDX = pointer to interrupt handler
Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 27h - Random Block Read Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 27h
	CX = number of records to read
        DS:EDX = pointer to an opened FCB
Out:
	AL = 00 if read was successful
	   = 01 if EOF (no data read)
           = 02 if DTA is too small
	   = 03 if EOF (partial record read)
	CX = actual number of records read


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 28h - Random Block Write Using FCB
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ


In:
	AH = 28h
	CX = number of records to write
        DS:EDX = pointer to an opened FCB

Out:
	AL = 00 if write successful
	   = 01 if diskette full or read only
           = 02 if DTA is too small
	CX = number of records written


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 2Ah - Get Date
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 2A
Out:
	AL = day of the week (0=Sunday)
	CX = year (1980-2099)
	DH = month (1-12)
	DL = day (1-31)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 2Bh - Set Date
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

IN:
	AH = 2B
	CX = year (1980-2099)
	DH = month (1-12)
	DL = day (1-31)
Out:
	AL = 00 if date change successful
	   = FF if invalid date


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 2Ch - Get Time
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 2C
Out:
	CH = hour (0-23)
	CL = minutes (0-59)
	DH = seconds (0-59)
	DL = hundredths (0-99)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 2Dh - Set Time
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 2D
	CH = hour (0-23)
	CL = minutes (0-59)
	DH = seconds (0-59)
	DL = hundredths (0-99)

Out:
	AL = 00 if time change successful
	   = FF if time invalid


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 2Eh - Set/Reset Verify Switch
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 2E
	AL = 00 to set off
	   = 01 to set verify on
	DH = 00 for DOS versions before 3.0
Out:

ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 2Fh - Get Disk Transfer Address (DTA)
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 2F
Out:
        ES:EBX = pointer to current DTA


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 30h - Get DOS Version Number
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 30h
Out:
	AL = major version number (2-5)
	AH = minor version number (in hundredths decimal)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 33h - Get/Set System Values (Ctl-Break/Boot Drive)
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 33h
	AL = 00 to get Ctrl-Break checking flag
	   = 01 to set Ctrl-Break checking flag
	   = 02 to set extended Ctrl-Break checking
           = 05 get boot drive
	DL = 00 to set Ctrl-Break checking off
	   = 01 to set Ctrl-Break checking on
           = boot drive for subfunction 5

Out:
	DL = 00 Ctrl-Break checking OFF (AL=0 or AL=2)
	   = 01 Ctrl-Break checking ON	(AL=0 or AL=2)
           = boot drive number (1-26, A:h - Z:) (AL=5)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 34h - Get Address to DOS Critical Flag
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 34h
Out:
        ES:EBX = address of a byte indicating whether a DOS call is
		in progress.  No DOS calls should be made if set.


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 35h - Get Interrupt Vector
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 35h
	AL = interrupt vector number
Out:
        ES:EBX = pointer to interrupt handler


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 36h - Get Disk Free Space
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 36h
        DL = drive number
Out:
	AX = sectors per cluster
	   = FFFF if drive is invalid
	BX = number of available clusters
	CX = number of bytes per sector
	DX = number of clusters per drive


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 37h - Get/Set Switch Character
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 37h
	AL = 0	get switch character into DL;  some systems return "-"
	   = 1	set switch character to value in DL
	   = 2	read device prefix flag into DL;  returns DL = 0 indicating
		devices must be accessed using /DEV/device. A non-zero value
		indicates devices may be accessed without prefix
	   = 3	set device prefix flag, device names must begin with \DEV\.
	DL = new switch character (AL=1)
	   = 00  \DEV\ must preceed device names (AL=3)
           = 01  \DEV\ is not neccesary in device names (AL=3)
Out:
	AL = FF  illegal subfunction code specified
	DL = current switch character (AL=0)
	   = device availability (AL=2, always FF with DOS 4.x+)


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 39h - Create Subdirectory
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 39h
        DS:EDX = pointer to ASCIIZ path name
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 3Ah - Remove Subdirectory
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ


In:
	AH = 3A
        DS:EDX = pointer to ASCIIZ path name
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 3Bh - Change Current Directory
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 3B
        DS:EDX = pointer to ASCIIZ path name
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 3Ch - Create File Using Handle
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ


	AH = 3C
        CX = file attribute
        DS:EDX = pointer to ASCIIZ path name
Out:
       Carry = 0 if successful
        AX = files handle
       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 3Dh - Open File Using Handle
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

	AH = 3D
	AL = open access mode
        DS:EDX = pointer to an ASCIIZ file name
Out:
       Carry = 0 if successful
        AX = files handle
       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 3Eh - Close File Using Handle
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 3E
	BX = file handle to close
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 3Fh - Read From File or Device Using Handle
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 3F
	BX = file handle
        ECX = number of bytes to read
        DS:EDX = pointer to read buffer
Out:
       Carry = 0 if successful
        EAX = Number of bytes readen
       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 40h - Write To File or Device Using Handle
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 40h
	BX = file handle
        ECX = number of bytes to write
        DS:EDX = pointer to write buffer
Out:
       Carry = 0 if successful
        EAX = Number of bytes written
       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 41h - Delete File
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 41h
        DS:EDX = pointer to an ASCIIZ filename
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 42h - Move File Pointer Using Handle
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 42h
        AL = origin of move
	BX = file handle
	CX = high order word of number of bytes to move
	DX = low order word of number of bytes to move

Out:
       Carry = 0 if successful
        DX:AX = new pointer location
       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 43h - Get/Set File Attributes
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 43h
	AL = 00 to get attribute
	   = 01 to set attribute
        DS:EDX = pointer to an ASCIIZ path name
	CX = attribute to set
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 45h - Duplicate File Handle
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 45h
	BX = file handle
Out:
       Carry = 0 if successful
        AX = New handle
       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 46h - Force Duplicate File Handle
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 46h
	BX = existing file handle
	CX = second file handle
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 47h - Get Current Directory
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 47h
        DL = drive number
        DS:ESI = pointer to a 64 byte user buffer
Out:
       Carry = 0 if successful
        DS:ESI = pointer ASCIIZ directory path string
       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 48h - Allocate Memory
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 48h
	BX = number of memory paragraphs requested
Out:
       Carry = 0 if successful
        EAX = selector for memory block
        EBX = ??????

       Carry = 1 if error
        EAX = error code
        EBX = size in paras of the largest block of memory available
Notes:
        EBX may be random


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 49h - Free Allocated Memory
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ


In:
	AH = 49h
        ES = selector of the memory block
Out:
       Carry = 0 if successful
        EBX = ??????

       Carry = 1 if error
        EAX = error code
Notes:
        EBX may be random


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 4Ah - Modify Allocated Memory Block  (SETBLOCK)
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 4A
	BX = new requested block size in paragraphs
        ES = segment of the block ( MCB  + 1 para)
Out:
       Carry = 0 if successful
        EBX = ??????

       Carry = 1 if error
        EAX = error code
        EBX = size in paras of the largest block of memory available


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 4Bh - Load and Execute Program
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 4B
	AL = 00  to load and execute program
        DS:EDX = pointer to an ASCIIZ filename
        ES:EBX = pointer to a parameter block
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 4Ch - Terminate Process With Return Code
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 4C
        AL = return code
Out:


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 4Dh - Get Return Code of Sub-process
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 4D
Out:
	AH = system exit code  (indicates normal termination)
	   = 00 for normal termination
	   = 01 if terminated by ctl-break
	   = 02 if critical device error
	AL = child exit code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 4Eh - Find First Matching File
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 4E
        CX = attribute used during search
        DS:EDX = pointer to ASCIIZ filespec
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 4Fh - Find Next Matching File
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 4F
        DS:EDX = unchanged from previous function 4E
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 54h - Get Verify Setting
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 54h
Out:
	AL = 00  verify off
	   = 01  verify on


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 56h - Rename File
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 56h
        DS:EDX = pointer to old ASCIIZ path/filename
        ES:EDI = pointer to new ASCIIZ path/filename
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 58h - Get/Set Memory Allocation Strategy
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 58h
	AL = 00  get strategy code
	   = 01  set strategy code
	BX = strategy code (when AL = 01)
	   = 00  first fit  (default)
	   = 01  best fit
	   = 02  last fit
Out:
       Carry = 0 if successful

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 59h - Get Extended Error Information
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 59h
        BX = 00
Out:
       Carry = 0 if successful
        AX = error code
        BH = error class
	BL = suggested action
	CH = locus

       Carry = 1 if error


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 5Ah - Create Temporary File
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 5A
	CX = attribute
        DS:EDX = pointer to ASCIIZ path ending in '\'
Out:
       Carry = 0 if successful
        AX = handle
        DS:EDX = pointer to updated ASCIIZ filespec

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 5Bh - Create File
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ


	AH = 5B
	CX = attribute
        DS:EDX = pointer to ASCIIZ path/filename


       Carry = 0 if successful
        AX = handle

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ
Function 60h - Get Fully Qualified File Name
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
	AH = 60h
        DS:ESI = pointer to ASCIIZ string containing unqualified filename
        ES:EDI = pointer to 128 byte buffer to contain fully qualified filename
Out:
       Carry = 0 if successful
        ES:EDI = address of fully qualified filename string

       Carry = 1 if error
        EAX = error code


ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ~v3.06
Function 62h - Get PSP Address
ฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤ

In:
        AH = 62h
Out:
        BX = PSP Selector


ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
บ                                                                          บ
บ Fin de la documentation EOS                                              บ
บ                                                                          บ
ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ